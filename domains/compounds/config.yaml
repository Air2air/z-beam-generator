# Compounds Domain Configuration
# Last updated: January 4, 2026

# =============================================================================
# DOMAIN METADATA
# =============================================================================
domain:
  name: compounds
  display_name: "Hazardous Compounds"
  description: "Chemical compounds generated during laser cleaning operations"
  version: "1.0.0"

# =============================================================================
# DATA ADAPTER CONFIGURATION (Required for DomainAdapter)
# =============================================================================
data_adapter:
  data_path: "data/compounds/Compounds.yaml"
  data_root_key: "compounds"
  author_key: "author.id"
  context_keys:
    - category
    - hazard_class
    - chemical_formula
    - cas_number

# =============================================================================
# FRONTMATTER CONFIGURATION (Domain-agnostic architecture)
# =============================================================================
frontmatter:
  directory: "frontmatter/compounds"
  filename_pattern: "{slug}-compound.yaml"

# =============================================================================
# COMPONENT TYPES (Content that can be generated)
# =============================================================================
component_types:
  description:
    display_name: "Compound Description"
    enabled: true
    extraction_strategy: raw
    prompt_template: "description.txt"
    
  health_effects:
    display_name: "Health Effects Guide"
    enabled: true
    extraction_strategy: raw
    prompt_template: "health_effects.txt"
    
  exposure_guidelines:
    display_name: "Exposure Guidelines"
    enabled: true
    extraction_strategy: raw
    prompt_template: "exposure_guidelines.txt"
    
  detection_methods:
    display_name: "Detection Methods"
    enabled: true
    extraction_strategy: raw
    prompt_template: "detection_methods.txt"
    
  first_aid:
    display_name: "First Aid Procedures"
    enabled: true
    extraction_strategy: raw
    prompt_template: "first_aid.txt"
    
  ppe_requirements:
    display_name: "PPE Requirements"
    enabled: true
    extraction_strategy: raw
    prompt_template: "ppe_requirements.txt"
    
  regulatory_standards:
    display_name: "Regulatory Standards"
    enabled: true
    extraction_strategy: raw
    prompt_template: "regulatory_standards.txt"
    
  emergency_response:
    display_name: "Emergency Response"
    enabled: true
    extraction_strategy: raw
    prompt_template: "emergency_response.txt"
    
  chemical_properties:
    display_name: "Chemical Properties"
    enabled: true
    extraction_strategy: raw
    prompt_template: "chemical_properties.txt"
    
  environmental_impact:
    display_name: "Environmental Impact"
    enabled: true
    extraction_strategy: raw
    prompt_template: "environmental_impact.txt"
    
  detection_monitoring:
    display_name: "Detection & Monitoring"
    enabled: true
    extraction_strategy: raw
    prompt_template: "detection_monitoring.txt"

# =============================================================================
# RANDOMIZATION TARGETS (Structural variety)
# =============================================================================
randomization_targets:
  # Structural approaches for compound descriptions
  structures:
    chemical_properties:
      label: "Chemical Properties Focus"
      description: "Start with chemical composition → bonding → how it forms"
      probability: 0.20
    health_hazards:
      label: "Health Hazards Focus"
      description: "Lead with health risks → exposure routes → safety measures"
      probability: 0.20
    formation_process:
      label: "Formation Process"
      description: "Explain how compound forms during laser cleaning → materials affected"
      probability: 0.20
    exposure_scenarios:
      label: "Exposure Scenarios"
      description: "Real-world exposure situations → risks → prevention"
      probability: 0.20
    regulatory_compliance:
      label: "Regulatory Compliance"
      description: "Standards and limits → monitoring requirements → compliance"
      probability: 0.20
  
  # Property integration strategies
  property_strategies:
    scattered:
      label: "SCATTERED INTEGRATION"
      description: "Distribute chemical properties throughout narrative"
      probability: 0.25
    hazard_focused:
      label: "HAZARD-FOCUSED"
      description: "Emphasize health hazards and safety concerns"
      probability: 0.25
    comparative:
      label: "COMPARATIVE"
      description: "Compare to similar compounds, highlight differences"
      probability: 0.25
    practical:
      label: "PRACTICAL"
      description: "Focus on detection, monitoring, and prevention"
      probability: 0.25
  
  # Warning placement options
  warning_placements:
    early:
      label: "EARLY WARNING"
      description: "Start with critical safety concern"
      probability: 0.33
    mid_flow:
      label: "MID-FLOW WARNING"
      description: "Embed warning naturally in middle"
      probability: 0.33
    concluding:
      label: "CONCLUDING WARNING"
      description: "End with critical safety reminder"
      probability: 0.34

# =============================================================================
# GENERATION SETTINGS (Inherited from generation/config.yaml)
# =============================================================================
generation:
  model: "grok-beta"
  default_attempts: 5
  enable_learning: true
  enable_quality_evaluation: true
  
  # Quality thresholds
  quality:
    realism_threshold: 7.0
    winston_threshold: 0.69
    readability_required: true
    
  # API parameters (base values, adjusted by DynamicConfig)
  api:
    temperature_base: 0.75
    max_tokens: 2000
    top_p: 0.95

# =============================================================================
# POSTPROCESSING
# =============================================================================
postprocessing:
  enabled: true
  retry_until_requirements_met: true
  max_regeneration_attempts: 5
  
  requirements:
    readability: pass
    ai_patterns: 0
    quality_score_min: 60
