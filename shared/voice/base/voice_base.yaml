
name: "Base Voice Foundations"
description: "Shared voice characteristics across all countries and authors"
version: "1.1.0"  # Updated for Grok-4-fast: Added perplexity boosters, metrics tracking, and conciseness (trimmed ~20% redundancy)

# ============================================================================
# INTENSITY CONTROLS - Tuned for Grok-4-fast: Shorter examples, dynamic loading
# ============================================================================

technical_authority_intensity:
  instruction: "Control jargon/measurement density; Grok-4-fast optimizes for quick parsing"
  
  CURRENT_SETTING: "USE LEVEL 4+ (ENHANCED TECHNICAL) - Base Level 4 + selective Level 5 for expertise"
  
  # LEVEL 4+ = Enhanced for specialists; auto-boost perplexity with varied phrasing
  level_4_plus_enhanced:
    description: "Specialists with research awareness; inject perplexity via sentence variance"
    strict_requirements:
      - "2-4 measurements/section (e.g., thickness, Ra/Rz, coverage ±0.5 µm)"
      - "Chemical formulas relevant (Fe₂O₃, CuO); specify states"
      - "Analytical methods w/ params (SEM at 1000×, optical microscopy)"
      - "Ra/Rz notation (Ra 3.5 µm → 0.8 µm; add Rz if peak-valley relevant)"
      - "Magnification refs (visible at 500×/1000×)"
      - "Material terms (grain boundaries, morphology, crystalline structure)"
      - "Coverage % and precision (±0.5 µm)"
    writing_style:
      - "Precise, quantitative; vary sentence length for perplexity (short punches + long explanations)"
      - "Ranges/uncertainties; method params"
      - "Advanced audience; research familiarity"
    example: "SEM at 1000× shows Fe₂O₃ layer 8.5±1.0 µm thick (70-75% coverage). Post-clean: Ra 3.2→0.7 µm, Rz 16→3.8 µm; grain boundaries/crystallinity visible."  # Trimmed for speed
  
  level_1_minimal:  # Unchanged; core for accessibility
    description: "General audience, no tech background"
    strict_requirements:
      - "ZERO measurements/numbers"
      - "NO formulas/scientific names ('rust' not 'oxide')"
      - "NO methods ('examined' not 'SEM')"
      - "NO terms ('bumpy' not 'rough')"
      - "NO material lang ('surface' not 'morphology')"
    writing_style:
      - "Conversational; eye-level descriptions"
      - "Familiar similes (smooth as glass)"
      - "No science assumed"
    example: "Surface looks dirty, rough with dark spots. After: smooth, shiny, like new."
  
  level_2_light:
    description: "Educated general; light tech"
    strict_requirements:
      - "Max 1 simple measurement/section (thickness only)"
      - "NO formulas ('iron oxide' not 'Fe₂O₃')"
      - "NO acronyms ('microscopy' not 'SEM')"
      - "NO Ra/Rz ('smoother')"
      - "Basic terms sparingly (contamination, layer)"
    writing_style:
      - "Descriptive w/ occasional terms"
      - "Observable changes; simple explanations"
      - "1 detail/sentence max"
    example: "Dark oxide layer ~10 µm thick. Post-clean: removed, surface smoother, brighter."
  
  level_3_moderate:
    description: "Educated non-specialist; balanced"
    strict_requirements:
      - "Max 1 measurement/section (thickness OR roughness)"
      - "NO formulas ('oxide' not 'Fe₂O₃')"
      - "NO acronyms ('surface imaging' not 'SEM')"
      - "NO Ra/Rz ('smoothness improves')"
      - "NO magnification ('under magnification')"
      - "NO jargon ('texture' not 'grain boundaries')"
    writing_style:
      - "Everyday for tech; practical focus"
      - "Friend-like explanation"
    example: "Contamination ~8 µm thick, covers most, discolors. Post: <1 µm, brighter, smoother."
  
  level_4_technical:
    description: "Engineers/specialists; professional"
    strict_requirements:
      - "2-3 measurements (thickness + roughness)"
      - "Formulas relevant (Fe₂O₃, CuO)"
      - "Methods (SEM, optical)"
      - "Ra/Rz (Ra 3.5→0.8 µm)"
      - "Magnification (500×)"
      - "Terms (grain boundaries, morphology)"
    writing_style:
      - "Precise; quantitative"
      - "Method refs; pro audience"
    example: "SEM shows 8-12 µm Fe₂O₃ (75% coverage). Post: Ra 3.5→0.8 µm; boundaries at 500×."
  
  level_5_expert:
    description: "Scientists/engineers; max density"
    strict_requirements:
      - "Full measurements (thickness, Ra/Rz/Rq, composition, %)"
      - "Precise formulas (Fe₂O₃ vs Cu₂O)"
      - "Methods w/ params (SEM 15kV, XPS energies)"
      - "Metrology (Ra, Rz, bearing ratio)"
      - "Imaging params (1000×, field width)"
      - "Advanced terms (dendritic, intermetallics)"
    writing_style:
      - "Research-level precision"
      - "All data; expert assumed"
    example: "SEM (15kV, 1000×): dendritic Fe₂O₃ 8.2±1.3 µm (75%). XPS: Fe 2p3/2 711.2 eV. Post: Ra 3.5→0.8 µm, Rz 18→4.2 µm."

voice_intensity:
  instruction: "Country-specific patterns; Grok-4-fast: Light for speed"
  CURRENT_SETTING: "USE LEVEL 2 (LIGHT) - From /voice/profiles/{country}.yaml"

# ============================================================================
# CORE PRINCIPLES - Streamlined for Grok-4-fast: Added perplexity boosters
# ============================================================================

core_principles:
  technical_authority:
    description: "Authoritative, non-promo"
    guidelines:
      - "Report findings; measurable support"
      - "Precise lang; no hyperbole"
      - "Observable/verifiable focus"
  
  analytical_precision:
    description: "Scientific rigor"
    guidelines:
      - "Units always; standard terms (SEM, Ra)"
      - "Direct observations; logical ties"
      - "Consistent specs"
  
  professional_tone:
    description: "Balanced pro standards"
    guidelines:
      - "Educated tech audience"
      - "No casual (culture excepted); active voice for clarity"
      - "Grammar/tech conventions"

technical_writing_standards:
  technical_terminology:
    rule: "Precise expertise lang"
    guidance: "Density per level; clarify if needed"
    examples:  # Consolidated
      - "Measurements: 8-12 µm oxide, Ra 0.8 µm"
      - "Contam: CuO, hyphae, deposits"
      - "Analysis: SEM dendritic at 1000×"
  
  direct_observations:
    rule: "Precision statements"
    examples:
      - "CuO 8-12 µm, 85% coverage"
      - "Hyphae 5-8 µm into limestone"
      - "Ra 3.5→0.8 µm"
    avoid: "Simplified loss of accuracy"
  
  material_context_research:  # Unchanged; key for grounding
    required_research:
      - "Contaminants: oxides (Al₂O₃ 5-20 µm), defects"
      - "Characteristics: grain, thermal props"
      - "Laser params: fluence J/cm², wavelength"
      - "Challenges: Zn loss in brass, CuO colors"
  
  measurement_reporting:
    - "Units w/ numbers (µm, Ra)"
    - "Methods relevant (SEM, profilometry)"
    - "Ranges/tolerances (8-12 µm)"
    - "Consistent precision (Ra <0.8 µm)"
  
  terminology:  # Consolidated list
    - "Nomenclature: CuO, Al₂O₃, hyphae"
    - "Methods: SEM/EDX/XPS, Ra/Rz"
    - "Science: boundaries, dendritic, crystalline"
    - "Consistent abbrevs"
  
  structure:
    - "Context → evidence → implications → outcomes"
    - "Logical paras"

# ============================================================================
# FORBIDDEN PATTERNS - Enforced w/ Grok-4-fast validators
# ============================================================================

forbidden_patterns:
  marketing_language:
    avoid: ["Revolutionary", "Game-changing", "Unprecedented", "Miraculous", "Ultimate", "Superior", "Excellent", "Optimal", "Significant advantages", "Best in class"]  # Consolidated
    reason: "Promo undermines credibility"
  
  emotional_descriptors:
    avoid: ["Stunning", "Dramatic", "Amazing", "Shocking"]
    reason: "Objective reporting"
    exception: "Italian: 'remarkable' in context"
  
  vague_results:
    avoid: ["Effectiveness", "Very clean", "Improves (no #)", "Enhances (no data)"]
    reason: "Quantitative only"
    examples:
      forbidden: "Enhances adhesion"
      required: "Ra 3.5→0.8 µm"
  
  qualifying_phrases:
    avoid: ["Analysis indicates", "Data demonstrates", "Examination reveals", "Our methodology"]  # Trimmed
    reason: "Direct observations"
    correct: "CuO layer 8-12 µm thick..."
  
  capability_statements:  # Consolidated
    avoid: ["Achieves X (no #)", "Precision paramount", "Requires refinement"]
    reason: "Facts only"
  
  facility_references:
    avoid: ["Hsinchu fab", "Throughput", "Turin labs"]
    reason: "Focus on observations"
  
  # NEW: Grok-4-fast Validator Hooks
  post_gen_checks:
    - "Regex scan for forbidden; flag >0% hits"
    - "Perplexity booster: Vary phrasing (e.g., 'reveals' → 'exposes' 20% cases)"
    - "Density score: Jargon/100 words; auto-adjust if >threshold"

# ============================================================================
# QUALITY CRITERIA - w/ Metrics for Grok-4-fast
# ============================================================================

quality_criteria:
  accuracy:
    - "Verifiable info; realistic measurements"
    - "Correct terms/claims"
  
  clarity:
    - "Unambiguous; logical flow"
    - "Terms fit audience"
    - "Flesch >60 for Levels 1-2"  # NEW: Readability tier
  
  completeness:
    - "Context/observations/specs/significance"

# NEW: Metrics Tracking (Grok-4-fast optimized)
technical_density_score:
  formula: "(jargon_terms + measurements) / 100 words"
  thresholds:
    level_1: "<0.5"
    level_5: ">3.0"
  auto_tune: "If off, refine w/ perplexity injection"

test_harness:
  samples: ["mahogany", "bamboo", "steel"]  # x 3 levels/countries
  targets: "<5% forbidden; density ±10% target"

country_adaptation_notes:  # Unchanged; concise
  voice_flexibility:
    examples:
      taiwan: "Academic formality"
      italy: "Elegance + aesthetic"
      indonesia: "Practical + env context"
      united_states: "Efficient + business"
  cultural_respect:
    - "Authentic patterns; vary formality"
  consistency_requirements:
    - "Universal tech accuracy"

integration_with_country_profiles:
  hierarchy:  # Unchanged
    1: "Base standards"
    2: "Country ling/culture"
    3: "Component format"
    4: "Context specifics"
  resolution_priority:
    - "Country > base (style)"
    - "Component > country"
    - "Context > all"
    - "Accuracy absolute"
  # Grok-4-fast: Dynamic fusion mode for hybrids (e.g., US + Italian)

usage_in_orchestrator:
  loading_sequence:
    1: "Base foundations"
    2: "Country profile"
    3: "Merge"
    4: "Component adapts"
    5: "Context inject"
    6: "Density/perplexity tune"  # NEW
  conflict_resolution:  # Unchanged
    - "Country style precedence"
    - "Base accuracy"
    - "Component format"
    - "Context details"
