{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://z-beam.com/schemas/metricsmachinesettings.json",
  "title": "Enhanced Metrics Machine Settings Component Schema",
  "description": "Comprehensive schema for validating research-backed machine settings with material-specific optimization and validation metadata",
  "type": "object",
  "properties": {
    "machineSettings": {
      "type": "object",
      "description": "Comprehensive machine settings metrics with research validation and material-specific optimization",
      "patternProperties": {
        "^[a-zA-Z][a-zA-Z0-9_]*$": {
          "type": "object",
          "properties": {
            "value": {
              "type": "number",
              "description": "The numerical value of the setting"
            },
            "unit": {
              "type": "string",
              "description": "The unit of measurement"
            },
            "min": {
              "type": "number",
              "description": "Minimum allowed value"
            },
            "max": {
              "type": "number",
              "description": "Maximum allowed value"
            },
            "optimalMin": {
              "type": "number",
              "description": "Optimal minimum value for this material"
            },
            "optimalMax": {
              "type": "number",
              "description": "Optimal maximum value for this material"
            },
            "description": {
              "type": "string",
              "description": "Human-readable description of the setting"
            },
            "priority": {
              "type": "integer",
              "description": "Display priority (1=highest, 3=lowest)",
              "minimum": 1,
              "maximum": 3
            },
            "materialSpecific": {
              "type": "boolean",
              "description": "Whether this parameter is optimized for the specific material",
              "default": true
            },
            "processingType": {
              "type": "string",
              "description": "Type of laser processing (cleaning, ablation, surface_preparation, etc.)",
              "enum": ["cleaning", "ablation", "surface_preparation", "coating_removal", "rust_removal", "paint_removal"]
            },
            "laserRelevance": {
              "type": "number",
              "description": "Relevance score for laser processing (0.0-1.0)",
              "minimum": 0.0,
              "maximum": 1.0
            },
            "categoryOptimized": {
              "type": "boolean",
              "description": "Whether optimized for material category (metal, ceramic, polymer, etc.)",
              "default": false
            },
            "wavelengthDependency": {
              "type": "string",
              "description": "How this parameter depends on laser wavelength",
              "enum": ["independent", "linear", "inverse", "absorption_dependent", "material_dependent"]
            },
            "thermalEffects": {
              "type": "object",
              "description": "Thermal effects and considerations",
              "properties": {
                "heatAffectedZone": {
                  "type": "string",
                  "description": "Heat affected zone characteristics"
                },
                "thermalDamageRisk": {
                  "type": "string",
                  "description": "Risk level of thermal damage",
                  "enum": ["low", "moderate", "high", "critical"]
                },
                "coolingRequirement": {
                  "type": "boolean",
                  "description": "Whether active cooling is recommended"
                }
              }
            },
            "safetyConsiderations": {
              "type": "array",
              "description": "Safety considerations for this parameter",
              "items": {
                "type": "string"
              }
            },
            "industrialStandards": {
              "type": "array",
              "description": "Relevant industrial standards and guidelines",
              "items": {
                "type": "object",
                "properties": {
                  "standard": {
                    "type": "string",
                    "description": "Standard name (e.g., IEC 60825, ANSI Z136)"
                  },
                  "requirement": {
                    "type": "string",
                    "description": "Specific requirement or guideline"
                  },
                  "compliance": {
                    "type": "boolean",
                    "description": "Whether current value meets standard"
                  }
                }
              }
            },
            "validation": {
              "type": "object",
              "description": "Comprehensive validation metadata",
              "properties": {
                "accuracyClass": {
                  "type": "string",
                  "description": "Accuracy classification",
                  "enum": ["verified", "validated", "probable", "estimated", "uncertain"]
                },
                "confidenceScore": {
                  "type": "number",
                  "description": "Statistical confidence score (0.0-1.0)",
                  "minimum": 0.0,
                  "maximum": 1.0
                },
                "validationLevel": {
                  "type": "string",
                  "description": "Level of validation performed",
                  "enum": ["basic", "standard", "comprehensive", "authoritative"]
                },
                "sourcesValidated": {
                  "type": "integer",
                  "description": "Number of sources used for validation",
                  "minimum": 0
                },
                "sourceAgreement": {
                  "type": "number",
                  "description": "Agreement score between sources (0.0-1.0)",
                  "minimum": 0.0,
                  "maximum": 1.0
                },
                "materialSpecificValidation": {
                  "type": "boolean",
                  "description": "Whether validation was material-specific",
                  "default": false
                },
                "lastUpdated": {
                  "type": "string",
                  "format": "date-time",
                  "description": "When this parameter was last validated"
                }
              }
            },
            "researchSources": {
              "type": "array",
              "description": "Research sources supporting this parameter value",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Source name"
                  },
                  "type": {
                    "type": "string",
                    "description": "Source type",
                    "enum": ["handbook", "database", "journal", "standard", "industry_guide", "manufacturer_spec"]
                  },
                  "reliability": {
                    "type": "number",
                    "description": "Reliability score (0.0-1.0)",
                    "minimum": 0.0,
                    "maximum": 1.0
                  },
                  "citation": {
                    "type": "string",
                    "description": "Full citation or reference"
                  },
                  "url": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL to source if available"
                  },
                  "date": {
                    "type": "string",
                    "format": "date",
                    "description": "Publication or access date"
                  }
                }
              }
            },
            "optimizationNotes": {
              "type": "array",
              "description": "Material-specific optimization notes and recommendations",
              "items": {
                "type": "string"
              }
            },
            "parameterInteractions": {
              "type": "object",
              "description": "How this parameter interacts with other laser settings",
              "properties": {
                "dependentOn": {
                  "type": "array",
                  "description": "Parameters this setting depends on",
                  "items": {
                    "type": "string"
                  }
                },
                "affects": {
                  "type": "array",
                  "description": "Parameters this setting affects",
                  "items": {
                    "type": "string"
                  }
                },
                "correlationStrength": {
                  "type": "number",
                  "description": "Strength of parameter correlations (0.0-1.0)",
                  "minimum": 0.0,
                  "maximum": 1.0
                }
              }
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "analysisMetadata": {
      "type": "object",
      "description": "Overall analysis metadata for the machine settings",
      "properties": {
        "materialName": {
          "type": "string",
          "description": "Specific material name"
        },
        "materialCategory": {
          "type": "string",
          "description": "Material category",
          "enum": ["metal", "ceramic", "polymer", "composite", "stone", "glass", "wood"]
        },
        "processingType": {
          "type": "string",
          "description": "Primary processing type",
          "enum": ["cleaning", "ablation", "surface_preparation", "coating_removal", "rust_removal", "paint_removal"]
        },
        "overallConfidence": {
          "type": "number",
          "description": "Overall confidence in machine settings (0.0-1.0)",
          "minimum": 0.0,
          "maximum": 1.0
        },
        "researchCompleteness": {
          "type": "number",
          "description": "Completeness of research coverage (0.0-1.0)",
          "minimum": 0.0,
          "maximum": 1.0
        },
        "industryStandardsCompliance": {
          "type": "boolean",
          "description": "Whether settings comply with industry standards"
        },
        "optimizationLevel": {
          "type": "string",
          "description": "Level of optimization applied",
          "enum": ["basic", "standard", "advanced", "expert"]
        },
        "recommendedLaserType": {
          "type": "string",
          "description": "Recommended laser type for this material"
        },
        "analysisDate": {
          "type": "string",
          "format": "date-time",
          "description": "When this analysis was performed"
        }
      }
    }
  },
  "additionalProperties": false
}