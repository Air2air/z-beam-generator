# Structural Parity Report

> Auto-generated by `scripts/audit/structural_parity.py`  
> Re-run after each consolidation session to track progress.

## Summary

| Metric | Value |
|--------|-------|
| Total domain Python files | 48 |
| Total domain lines | 17,435 |
| HIGH priority findings | 6 |
| MEDIUM priority findings | 6 |
| LOW priority findings | 12 |
| Estimated lines removable | ~259 |

## Per-domain file counts

- **applications**: 1 files, 75 lines
- **compounds**: 2 files, 302 lines
- **contaminants**: 15 files, 5,403 lines
- **materials**: 27 files, 11,076 lines
- **settings**: 3 files, 579 lines

---

## Consolidation Targets

> Ordered by: priority â†’ estimated lines saved

### ðŸ”´ HIGH PRIORITY

#### `[module_func]` `get_loader()` module-level â€” 4 domains (~15 lines saved)
- Domains: `compounds`, `contaminants`, `materials`, `settings`
  compounds: `get_loader() â†’ CompoundsDataLoader` (L176, ~5 lines)
  contaminants: `get_loader() â†’ ContaminantsDataLoader` (L363, ~5 lines)
  materials: `get_loader() â†’ MaterialsDataLoader` (L414, ~5 lines)
  settings: `get_loader() â†’ SettingsDataLoader` (L239, ~5 lines)

#### `[file_name]` `coordinator.py` â€” identical path in 5 domains
- Domains: `applications`, `compounds`, `contaminants`, `materials`, `settings`
  applications: domains/applications/coordinator.py
  compounds: domains/compounds/coordinator.py
  contaminants: domains/contaminants/coordinator.py
  materials: domains/materials/coordinator.py
  settings: domains/settings/coordinator.py

#### `[file_name]` `loaders/data_loader_v2.py` â€” identical path in 4 domains
- Domains: `compounds`, `contaminants`, `materials`, `settings`
  compounds: domains/compounds/loaders/data_loader_v2.py
  contaminants: domains/contaminants/loaders/data_loader_v2.py
  materials: domains/materials/loaders/data_loader_v2.py
  settings: domains/settings/loaders/data_loader_v2.py

#### `[import_drift]` `shared.cache.manager.cache_manager` â€” used by 4 domains, absent in 1
- Domains: `compounds`, `contaminants`, `materials`, `settings`
  Uses: compounds, contaminants, materials, settings
  Missing: applications

#### `[import_drift]` `shared.data.legacy.base_loader.BaseDataLoader` â€” used by 4 domains, absent in 1
- Domains: `compounds`, `contaminants`, `materials`, `settings`
  Uses: compounds, contaminants, materials, settings
  Missing: applications

#### `[import_drift]` `shared.exceptions.ConfigurationError` â€” used by 3 domains, absent in 2
- Domains: `contaminants`, `materials`, `settings`
  Uses: contaminants, materials, settings
  Missing: applications, compounds

### ðŸŸ¡ MEDIUM PRIORITY

**ðŸŸ¡ MEDIUM** â€” `to_dict()` â€” appears in 2 domains (~103 lines saved)
  - Domains: `contaminants`, `materials`

**ðŸŸ¡ MEDIUM** â€” `get_pattern()` â€” appears in 2 domains (~41 lines saved)
  - Domains: `contaminants`, `materials`

**ðŸŸ¡ MEDIUM** â€” `get_material()` â€” appears in 3 domains (~22 lines saved)
  - Domains: `compounds`, `contaminants`, `materials`

**ðŸŸ¡ MEDIUM** â€” `clear_cache()` â€” appears in 3 domains (~20 lines saved)
  - Domains: `compounds`, `contaminants`, `materials`

**ðŸŸ¡ MEDIUM** â€” `_load_yaml_file()` â€” appears in 2 domains (~20 lines saved)
  - Domains: `contaminants`, `materials`

**ðŸŸ¡ MEDIUM** â€” `shared.exceptions.GenerationError` â€” used by 2 domains, absent in 3
  - Domains: `contaminants`, `settings`

### ðŸŸ¢ LOW PRIORITY

**ðŸŸ¢ LOW** â€” `_find_project_root()` â€” appears in 2 domains (~11 lines saved)
  - Domains: `contaminants`, `materials`

**ðŸŸ¢ LOW** â€” `_get_key()` â€” appears in 2 domains (~7 lines saved)
  - Domains: `contaminants`, `materials`

**ðŸŸ¢ LOW** â€” `get_category_ranges()` module-level â€” 2 domains (~4 lines saved)
  - Domains: `compounds`, `materials`

**ðŸŸ¢ LOW** â€” `list_materials()` â€” appears in 2 domains (~2 lines saved)
  - Domains: `contaminants`, `materials`

**ðŸŸ¢ LOW** â€” `list_patterns()` â€” appears in 2 domains (~2 lines saved)
  - Domains: `contaminants`, `materials`

**ðŸŸ¢ LOW** â€” `load_material()` module-level â€” 2 domains (~2 lines saved)
  - Domains: `compounds`, `materials`

**ðŸŸ¢ LOW** â€” `get_material_names()` module-level â€” 2 domains (~2 lines saved)
  - Domains: `compounds`, `materials`

**ðŸŸ¢ LOW** â€” `load_properties_yaml()` module-level â€” 2 domains (~2 lines saved)
  - Domains: `compounds`, `materials`

**ðŸŸ¢ LOW** â€” `get_property_definitions()` module-level â€” 2 domains (~2 lines saved)
  - Domains: `compounds`, `materials`

**ðŸŸ¢ LOW** â€” `load_parameter_definitions_yaml()` module-level â€” 2 domains (~2 lines saved)
  - Domains: `compounds`, `materials`

**ðŸŸ¢ LOW** â€” `clear_cache()` module-level â€” 2 domains (~2 lines saved)
  - Domains: `compounds`, `materials`

**ðŸŸ¢ LOW** â€” `generator.py` â€” identical path in 2 domains
  - Domains: `contaminants`, `settings`

---

## Suggested Next Sessions

Work through HIGH items in order. Contract per session:

1. Read all N domain copies side-by-side
2. Identify canonical (most callers, most complete)
3. Identify divergences (meaningful vs drift?)
4. Write to `shared/` with proper namespace
5. Shim each domain's old path (one-liner re-export)
6. Run full test suite â€” must be green
7. Delete originals, commit as atomic unit
8. Re-run `python3 scripts/audit/structural_parity.py`
