# Structural Parity Report

> Auto-generated by `scripts/audit/structural_parity.py`  
> Re-run after each consolidation session to track progress.

## Summary

| Metric | Value |
|--------|-------|
| Total domain Python files | 46 |
| Total domain lines | 16,458 |
| HIGH priority findings | 5 |
| MEDIUM priority findings | 0 |
| LOW priority findings | 2 |
| Estimated lines removable | ~106 |

## Per-domain file counts

- **applications**: 1 files, 71 lines
- **compounds**: 2 files, 270 lines
- **contaminants**: 14 files, 4,827 lines
- **materials**: 26 files, 10,716 lines
- **settings**: 3 files, 574 lines

---

## Consolidation Targets

> Ordered by: priority â†’ estimated lines saved

### ğŸ”´ HIGH PRIORITY

#### `[method_overlap]` `_validate_loaded_data()` â€” appears in 4 domains (~33 lines saved)
- Domains: `compounds`, `contaminants`, `materials`, `settings`
  compounds: `CompoundsDataLoader._validate_loaded_data(self, data) â†’ bool` (L61, ~11 lines)
  contaminants: `ContaminantsDataLoader._validate_loaded_data(self, data) â†’ bool` (L76, ~11 lines)
  materials: `MaterialsDataLoader._validate_loaded_data(self, data) â†’ bool` (L76, ~11 lines)
  settings: `SettingsDataLoader._validate_loaded_data(self, data) â†’ bool` (L67, ~11 lines)

#### `[loader_gap]` `_validate_loaded_data()` in 4 loaders but not in BaseDataLoader (~33 lines saved)
- Domains: `compounds`, `contaminants`, `materials`, `settings`
  compounds/loaders/data_loader_v2: `_validate_loaded_data(self, data) â†’ bool` (~11 lines)
  contaminants/loaders/data_loader_v2: `_validate_loaded_data(self, data) â†’ bool` (~11 lines)
  materials/loaders/data_loader_v2: `_validate_loaded_data(self, data) â†’ bool` (~11 lines)
  settings/loaders/data_loader_v2: `_validate_loaded_data(self, data) â†’ bool` (~11 lines)

#### `[loader_gap]` `__init__()` in 4 loaders but not in BaseDataLoader (~24 lines saved)
- Domains: `compounds`, `contaminants`, `materials`, `settings`
  compounds/loaders/data_loader_v2: `__init__(self, project_root)` (~7 lines)
  contaminants/loaders/data_loader_v2: `__init__(self, project_root)` (~6 lines)
  materials/loaders/data_loader_v2: `__init__(self, project_root)` (~14 lines)
  settings/loaders/data_loader_v2: `__init__(self, project_root)` (~6 lines)

#### `[method_overlap]` `_get_data_file_path()` â€” appears in 4 domains (~6 lines saved)
- Domains: `compounds`, `contaminants`, `materials`, `settings`
  compounds: `CompoundsDataLoader._get_data_file_path(self) â†’ Path` (L57, ~2 lines)
  contaminants: `ContaminantsDataLoader._get_data_file_path(self) â†’ Path` (L72, ~2 lines)
  materials: `MaterialsDataLoader._get_data_file_path(self) â†’ Path` (L72, ~2 lines)
  settings: `SettingsDataLoader._get_data_file_path(self) â†’ Path` (L63, ~2 lines)

#### `[loader_gap]` `_get_data_file_path()` in 4 loaders but not in BaseDataLoader (~6 lines saved)
- Domains: `compounds`, `contaminants`, `materials`, `settings`
  compounds/loaders/data_loader_v2: `_get_data_file_path(self) â†’ Path` (~2 lines)
  contaminants/loaders/data_loader_v2: `_get_data_file_path(self) â†’ Path` (~2 lines)
  materials/loaders/data_loader_v2: `_get_data_file_path(self) â†’ Path` (~2 lines)
  settings/loaders/data_loader_v2: `_get_data_file_path(self) â†’ Path` (~2 lines)

### ğŸŸ¡ MEDIUM PRIORITY

_None found._

### ğŸŸ¢ LOW PRIORITY

**ğŸŸ¢ LOW** â€” `list_materials()` â€” appears in 2 domains (~2 lines saved)
  - Domains: `contaminants`, `materials`

**ğŸŸ¢ LOW** â€” `list_patterns()` â€” appears in 2 domains (~2 lines saved)
  - Domains: `contaminants`, `materials`

---

## Suggested Next Sessions

Work through HIGH items in order. Contract per session:

1. Read all N domain copies side-by-side
2. Identify canonical (most callers, most complete)
3. Identify divergences (meaningful vs drift?)
4. Write to `shared/` with proper namespace
5. Shim each domain's old path (one-liner re-export)
6. Run full test suite â€” must be green
7. Delete originals, commit as atomic unit
8. Re-run `python3 scripts/audit/structural_parity.py`
