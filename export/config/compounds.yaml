domain: compounds
source_file: data/compounds/Compounds.yaml
output_path: ../z-beam/frontmatter/compounds
items_key: compounds
id_field: id
# title_field removed - SEOMetadataGenerator creates page_title instead
filename_suffix: ''
sluggify_filenames: true

# Section metadata configuration
# Note: section_title and section_description are DISPLAYED to users
#       section_metadata is for INTERNAL reference only (developer notes)
section_metadata:
  # IDENTITY category - What this compound is
  identity.chemical_properties:
    section_title: Chemical Properties
    section_description: Molecular formula, CAS number, molecular weight, and chemical structure
    icon: atom
    order: 1
    variant: default
    section_metadata:
      notes: Core chemical identity data from Compounds.yaml
      source_field: chemical_properties
      presentation_type: descriptive
  
  identity.physical_properties:
    section_title: Physical Properties
    section_description: Physical state, appearance, color, odor, boiling/melting points
    icon: thermometer
    order: 2
    variant: default
    section_metadata:
      notes: Observable physical characteristics
      source_field: physical_properties
      presentation_type: descriptive
  
  identity.synonyms_identifiers:
    section_title: Synonyms & Identifiers
    section_description: Alternative names, trade names, and chemical identifiers
    icon: tag
    order: 3
    variant: default
    section_metadata:
      notes: Used for search and cross-referencing
      source_field: synonyms_identifiers
      presentation_type: descriptive
  
  # SAFETY category - Health and safety information
  safety.health_impacts:
    section_title: Health Impacts
    section_description: Health effects from exposure including acute and chronic impacts
    icon: heart-pulse
    order: 1
    variant: warning
    section_metadata:
      notes: Primary health effects section (NEW - replaces health_effects)
      source_field: health_effects (from Compounds.yaml)
      moved_from: top-level by normalize_compounds task
      presentation_type: descriptive
  
  safety.exposure_guidance:
    section_title: Exposure Guidelines
    section_description: OSHA PEL, NIOSH REL, ACGIH TLV, and safe exposure limits
    icon: shield-alert
    order: 2
    variant: warning
    section_metadata:
      notes: Regulatory exposure thresholds (NEW - replaces exposure_limits)
      source_field: exposure_guidelines (from Compounds.yaml)
      moved_from: top-level by normalize_compounds task
      presentation_type: descriptive
  
  safety.personal_protection:
    section_title: Personal Protection Equipment
    section_description: Required PPE including respirators, gloves, eye protection, and protective clothing
    icon: shield-check
    order: 3
    variant: warning
    section_metadata:
      notes: PPE specifications and requirements (NEW - replaces ppe_requirements)
      source_field: ppe_requirements (from Compounds.yaml)
      moved_from: top-level by normalize_compounds task
      presentation_type: descriptive
  
  safety.emergency_procedures:
    section_title: Emergency Procedures
    section_description: First aid measures, emergency response, and incident management
    icon: siren
    order: 4
    variant: danger
    section_metadata:
      notes: Emergency response protocols (NEW - replaces emergency_response)
      source_field: first_aid (from Compounds.yaml)
      moved_from: top-level by normalize_compounds task
      presentation_type: descriptive
  
  safety.regulatory_classification:
    section_title: Regulatory Classification
    section_description: OSHA hazard classification, GHS pictograms, and regulatory status
    icon: file-badge
    order: 6
    variant: default
    section_metadata:
      notes: Regulatory and hazard classification data
      source_field: regulatory_classification
      presentation_type: descriptive
  
  # ENVIRONMENTAL category
  environmental.environmental_impact:
    section_title: Environmental Impact
    section_description: Environmental hazards, ecological effects, and disposal considerations
    icon: leaf
    order: 1
    variant: warning
    section_metadata:
      notes: Environmental and ecological concerns
      source_field: environmental_impact
      presentation_type: descriptive
  
  # DETECTION category
  detection.methods:
    section_title: Detection Methods
    section_description: Analytical techniques and instruments for detecting this compound
    icon: microscope
    order: 1
    variant: default
    section_metadata:
      notes: Detection and monitoring techniques (NEW)
      source_field: detection_methods (from Compounds.yaml)
      moved_from: top-level by normalize_compounds task
      presentation_type: descriptive
  
  detection_monitoring.detection_monitoring:
    section_title: Monitoring Systems
    section_description: Real-time monitoring equipment and workplace air sampling methods
    icon: activity
    order: 2
    variant: default
    section_metadata:
      notes: Continuous monitoring and sampling systems
      source_field: detection_monitoring
      presentation_type: descriptive
  
  # INTERACTIONS category
  interactions.produced_from_contaminants:
    section_title: Source Contaminants
    section_description: Contaminants that generate this compound during laser cleaning
    icon: droplet
    order: 1
    variant: default
    section_metadata:
      notes: Links to contaminant pages
      relationship_type: produced_from
      presentation_type: card
  
  interactions.produced_from_materials:
    section_title: Source Materials
    section_description: Materials that may release this compound when laser cleaned
    icon: box
    order: 2
    variant: default
    section_metadata:
      notes: Links to material pages
      relationship_type: produced_from
      presentation_type: card
  
  interactions.reactivity:
    section_title: Chemical Reactivity
    section_description: Reactivity hazards, incompatible substances, and chemical stability
    icon: flask-conical
    order: 3
    variant: warning
    section_metadata:
      notes: Chemical compatibility and reaction hazards
      source_field: reactivity
      presentation_type: descriptive
  
  # OPERATIONAL category
  operational.expert_answers:
    section_title: Expert Q&A
    section_description: Frequently asked questions about this compound answered by laser cleaning experts
    icon: message-circle-question
    order: 1
    variant: default
    section_metadata:
      notes: Converted from FAQ field by normalize_compounds task
      source_field: faq (from Compounds.yaml)
      presentation_type: collapsible
      features: auto_open_first, expert_info, search

generators:
- type: universal_content
  module: export.generation.universal_content_generator
  class: UniversalContentGenerator
  tasks:
  - type: author_linkage
    author_file: data/authors/Authors.yaml
  - type: slug_generation
  - type: timestamp
  - type: normalize_compounds
  - type: remove_duplicate_safety_fields
  - type: remove_storage_requirements
  - type: relationships
    domain: compounds
  - type: seo_description
    source_field: description
    max_length: 160
  - type: section_metadata
    config_file: export/config/compounds.yaml
  - type: relationship_grouping
  - type: breadcrumbs
    domain: compounds
  - type: camelcase_normalization
    description: Normalize all snake_case fields to camelCase recursively
  - type: field_ordering
    domain: compounds
- type: seo_metadata
  module: export.generation.seo_metadata_generator
  class: SEOMetadataGenerator
  page_type: compound
  title_field: pageTitle
  description_field: metaDescription
- type: seo_description
  module: shared.generation.seo_description_generator
  class: SEODescriptionGenerator
  source_field: description
  output_field: metaDescription  # Use camelCase for consistency
  max_length: 160
- type: excerpt
  module: shared.generation.excerpt_generator
  class: ExcerptGenerator
  source_field: description
  output_field: micro
  mode: sentences
  length: 2
- type: section_metadata
  module: export.generation.section_metadata_generator
  class: SectionMetadataGenerator
  config_file: export/config/compounds.yaml
- type: field_order
  module: export.generation.field_order_generator
  class: FieldOrderGenerator
  domain: compounds
  class: SectionMetadataGenerator
  sections:
    # Identity sections (already in data)
    chemical_properties:
      presentation: list
      title: Chemical Properties
      description: Fundamental chemical characteristics and behavior
      icon: microscope
      order: 1
      variant: default
    physical_properties:
      presentation: list
      title: Physical Properties
      description: Physical characteristics and state information
      icon: gauge
      order: 2
      variant: default
    synonyms_identifiers:
      presentation: card
      title: Synonyms & Identifiers
      description: Alternative names and chemical identifiers (CAS numbers)
      icon: file-text
      order: 3
      variant: default
    
    # Safety sections (moved from top-level by normalize_compounds)
    safety.health_impacts:
      presentation: descriptive
      title: Health Impacts
      description: Health effects and risks from exposure to this compound
      icon: heart-pulse
      order: 1
      variant: warning
    safety.exposure_guidance:
      presentation: descriptive
      title: Exposure Guidelines
      description: Safe exposure limits and handling precautions
      icon: shield-exclamation
      order: 2
      variant: warning
    safety.personal_protection:
      presentation: descriptive
      title: Personal Protection
      description: Required protective equipment for handling this compound
      icon: shield-check
      order: 3
      variant: warning
    safety.emergency_procedures:
      presentation: descriptive
      title: Emergency Procedures
      description: First aid and emergency response for exposure incidents
      icon: first-aid
      order: 4
      variant: danger
    safety.health_effects:
      presentation: card
      title: Health Effects
      description: Specific health effects by exposure route
      icon: activity
      order: 5
      variant: warning
    safety.ppe_requirements:
      presentation: card
      title: PPE Requirements
      description: Personal protective equipment specifications
      icon: shield
      order: 6
      variant: warning
    safety.emergency_response:
      presentation: card
      title: Emergency Response
      description: Emergency procedures and incident response
      icon: alert-triangle
      order: 7
      variant: danger
    safety.exposure_limits:
      presentation: card
      title: Exposure Limits
      description: Regulatory exposure thresholds and safe concentration levels
      icon: gauge
      order: 8
      variant: warning
    
    # Detection sections (moved from top-level by normalize_compounds)
    detection.methods:
      presentation: descriptive
      title: Detection Methods
      description: Techniques and equipment for detecting this compound
      icon: microscope
      order: 1
      variant: default
    detection.detection_monitoring:
      presentation: card
      title: Detection & Monitoring
      description: Monitoring equipment and detection techniques
      icon: gauge
      order: 2
      variant: default
    
    # Operational sections
    operational.expert_answers:
      presentation: collapsible
      title: Expert Q&A
      description: Common questions about this compound answered by experts
      icon: user-tie
      order: 1
      variant: default
    
    # Formation sections
    formation.produced_from_contaminants:
      presentation: card
      title: Produced From Contaminants
      description: Contaminants that generate this compound during laser cleaning
      icon: droplet
      order: 1
      variant: default
    formation.produced_from_materials:
      presentation: card
      title: Produced From Materials
      description: Materials that may release this compound during laser cleaning
      icon: users
      order: 2
      variant: default
    
    # Other sections
    environmental_impact:
      presentation: card
      title: Environmental Impact
      description: Environmental effects and ecological considerations
      icon: wind
      order: 20
      variant: warning
    reactivity:
      presentation: list
      title: Reactivity
      description: Chemical reactivity and compatibility with other substances
      icon: flame
      order: 21
      variant: warning
    regulatory_classification:
      presentation: card
      title: Regulatory Classification
      description: Hazard classifications and regulatory designations
      icon: file-text
      order: 22
      variant: default
    storage_requirements:
      presentation: list
      title: Storage Requirements
      description: Proper storage conditions and handling precautions
      icon: alert-triangle
      order: 23
      variant: warning
# Enrichers deprecated - all functionality moved to generators above
# SafetyDataEnricher moved to export/archive/enrichers-deprecated-dec29-2025/
# See: export/archive/enrichers-deprecated-dec29-2025/
_deprecated_enrichments:
- type: universal_restructure
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.contaminant_linkage_enricher
  class: ContaminantLinkageEnricher
  domain: compounds
  cleanup_rules:
    old_relationship_keys:
    - related_contaminants
    - related_materials
    - related_compounds
    legacy_fields:
    - metadata
    - eeat
    - voice_enhanced
    - description
    duplicate_fields:
      emergency_response: emergency_response
      physical_properties: physical_properties
      ppe_requirements: ppe_requirements
      environmental_impact: environmental_impact
      detection_monitoring: detection_monitoring
    move_to_relationships:
    - chemical_properties
    - toxicity
    - formation_sources
    - exposure_monitoring
    - personal_protection
    - occupational_exposure_limits
    - regulatory_frameworks
    - ventilation_systems
    - engineering_controls
    - safe_work_practices
    - medical_surveillance
    - risk_assessment
    - images
  field: source_contaminants
  title: Found in Contaminants
  description: Contamination patterns that contain or release this compound
  source: data/contaminants/Contaminants.yaml
  defaults:
  - category
  - subcategory
  - hazard_level
  - contaminant_category
  - commonality_score
- type: material_linkage
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.material_linkage_enricher
  class: MaterialLinkageEnricher
  field: affected_materials
  title: Produced from Materials
  description: Materials that generate this compound when laser processed
  source: data/materials/Materials.yaml
  defaults:
  - category
  - subcategory
  - material_type
  - thermal_conductivity
  - reflectivity
- type: settings_linkage
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.settings_linkage_enricher
  class: SettingsLinkageEnricher
  field: related_settings
  title: Relevant Settings
  description: Laser configurations where this compound safety data is applicable
  source: data/settings/Settings.yaml
  defaults:
  - setting_category
  - power_watts
  - pulse_frequency_hz
  - recommended_for
- type: timestamp
  module: export.archive.enrichers-deprecated-dec29-2025.metadata.timestamp_enricher
  class: TimestampEnricher
  fields:
  - datePublished
  - dateModified
- type: author
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.author_enricher
  class: AuthorEnricher
- type: images
  module: export.archive.enrichers-deprecated-dec29-2025.media.image_enricher
  class: ImageEnricher
  domain: compounds
- type: breadcrumb
  module: export.archive.enrichers-deprecated-dec29-2025.navigation.breadcrumb_enricher
  class: BreadcrumbEnricher
  domain: compounds
  category_field: category
  subcategory_field: subcategory
  name_field: name
- type: relationship_group
  module: export.archive.enrichers-deprecated-dec29-2025.relationships.group_enricher
  class: RelationshipGroupEnricher
  description: Group relationships into technical/safety/operational categories
  relationship_groups:
    technical:
    - produced_by_materials
    - found_in_contaminants
    - related_compounds
    - forms
    - decomposition_products
    safety:
    - regulatory_standards
    - exposure_limits
    - caution_materials
    - emergency_response_procedures
    - incompatible_materials
    operational:
    - detection_monitoring_methods
    - control_measures
- type: title
  module: export.generation.title_generator
  class: TitleGenerator
  template: '{name}'
  use_display_name: true
  skip_if_exists: true
- type: relationship_intensity
  module: export.archive.enrichers-deprecated-dec29-2025.relationships.intensity_enricher
  class: IntensityEnricher
  description: Dynamically derives intensity from severity/effectiveness/frequency
- type: field_order
  module: export.archive.enrichers-deprecated-dec29-2025.metadata.field_order_enricher
  class: FieldOrderEnricher
  description: Normalize field order for consistency
- type: text_field_preservation
  module: export.archive.enrichers-deprecated-dec29-2025.preservation.text_field_preservation_enricher
  class: TextFieldPreservationEnricher
  description: Preserve generated text content fields (CRITICAL FIX for health_effects)
  source_file: data/compounds/Compounds.yaml
  items_key: compounds
  text_fields:
  - health_effects
  - description
  - caption
_deprecated_library_enrichments:
  enabled: false
  enrichments:
  - type: emergency_response
    relationship_field: relationships.emergency_response
    output_field: emergency_response_detail
