# Contaminants Domain Export Configuration
# Cross-references: domains/contaminants/config.yaml (generation settings)
# Schema: export/config/schema.yaml

domain: contaminants
source_file: data/contaminants/Contaminants.yaml
output_path: ../z-beam/frontmatter/contaminants
items_key: contamination_patterns
id_field: id
filename_suffix: ''

# Section metadata configuration
# Note: section_title and section_description are DISPLAYED to users
#       section_metadata is for INTERNAL reference only (developer notes)
section_metadata:
  # SAFETY category (9 sections - primary focus for contaminants)
  safety.regulatory_standards:
    section_title: Regulatory Standards
    section_description: Safety and compliance standards for handling this contaminant
    icon: shield-check
    order: 1
    variant: default
    section_metadata:
      notes: Compliance requirements
      presentation_type: card
  
  safety.fire_explosion_risk:
    section_title: Fire & Explosion Risk
    section_description: Flammability and explosion hazards associated with this contaminant
    icon: flame
    order: 2
    variant: warning
    section_metadata:
      notes: Critical fire safety information
      presentation_type: card
  
  safety.fumes_generated:
    section_title: Fumes Generated
    section_description: Types of fumes produced when laser cleaning this contaminant
    icon: cloud
    order: 3
    variant: warning
    section_metadata:
      notes: Vapor hazards
      presentation_type: card
  
  safety.particulate_generation:
    section_title: Particulate Generation
    section_description: Airborne particles produced during laser cleaning process
    icon: wind
    order: 4
    variant: warning
    section_metadata:
      notes: Dust and particle hazards
      presentation_type: card
  
  safety.ppe_requirements:
    section_title: PPE Requirements
    section_description: Personal protective equipment needed when cleaning this contaminant
    icon: shield
    order: 5
    variant: default
    section_metadata:
      notes: Required safety gear
      presentation_type: card
  
  safety.substrate_compatibility_warnings:
    section_title: Substrate Compatibility
    section_description: Materials that may be damaged or incompatible with cleaning this contaminant
    icon: alert-triangle
    order: 6
    variant: warning
    section_metadata:
      notes: Material damage risks
      presentation_type: card
  
  safety.toxic_gas_risk:
    section_title: Toxic Gas Risk
    section_description: Hazardous gases that may be produced during laser cleaning
    icon: skull
    order: 7
    variant: danger
    section_metadata:
      notes: Critical toxicity warnings
      presentation_type: card
  
  safety.ventilation_requirements:
    section_title: Ventilation Requirements
    section_description: Air handling and exhaust systems needed for safe cleaning
    icon: fan
    order: 8
    variant: default
    section_metadata:
      notes: Airflow requirements
      presentation_type: card
  
  safety.visibility_hazard:
    section_title: Visibility Hazards
    section_description: Smoke, dust, or other factors that may impair operator vision
    icon: eye-off
    order: 9
    variant: warning
    section_metadata:
      notes: Vision impairment risks
      presentation_type: card
  
  # INTERACTIONS category (2 sections)
  interactions.produces_compounds:
    section_title: Produces Compounds
    section_description: Chemical compounds formed when laser cleaning this contaminant
    icon: flask
    order: 1
    variant: default
    section_metadata:
      notes: Cross-references to compound pages
      relationship_type: produces_compounds
      presentation_type: card
  
  interactions.affects_materials:
    section_title: Found On Materials
    section_description: Materials commonly contaminated with this substance
    icon: box
    order: 2
    variant: default
    section_metadata:
      notes: Cross-references to material pages
      relationship_type: affects_materials
      presentation_type: card
  
  # VISUAL category (1 section)
  visual.appearance_on_categories:
    section_title: Visual Appearance
    section_description: How this contaminant appears on different material types
    icon: eye
    order: 1
    variant: default
    section_metadata:
      notes: Category-specific appearance descriptions
      presentation_type: collapsible
      features: auto_open_first
  
  # OPERATIONAL category (1 section)
  operational.laser_properties:
    section_title: Laser Properties
    section_description: Absorption characteristics and laser interaction data
    icon: zap
    order: 1
    variant: default
    section_metadata:
      notes: Technical laser parameters
      presentation_type: card

generators:
- type: universal_content
  module: export.generation.universal_content_generator
  class: UniversalContentGenerator
  tasks:
  - type: author_linkage
    author_file: data/authors/Authors.yaml
  - type: slug_generation
  - type: timestamp
  - type: relationships
    domain: contaminants
  - type: seo_description
    source_field: contamination_description
    max_length: 160
    output_field: metaDescription  # Use camelCase for consistency
  - type: section_metadata
    config_file: export/config/contaminants.yaml
  - type: relationship_grouping
  - type: breadcrumbs
    domain: contaminants
  - type: camelcase_normalization
    description: Normalize all snake_case fields to camelCase recursively
  - type: field_ordering
    domain: contaminants
- type: seo_metadata
  module: export.generation.seo_metadata_generator
  class: SEOMetadataGenerator
  page_type: contaminant
  title_field: pageTitle
  description_field: metaDescription
- type: relationships
  module: shared.generation.relationships_generator
  class: RelationshipsGenerator
  domain: contaminants
  output_field: relationships
- type: contaminant_materials_grouping
  module: export.generation.contaminant_materials_grouping_generator
  class: ContaminantMaterialsGroupingGenerator
- type: safety_table_normalizer
  module: export.generation.safety_table_normalizer
  class: SafetyTableNormalizer
  description: Normalize safety data tables to consistent presentation + items format
- type: field_cleanup
  module: export.generation.field_cleanup_generator
  class: FieldCleanupGenerator
- type: seo_description
  module: shared.generation.seo_description_generator
  class: SEODescriptionGenerator
  source_field: contaminant_description
  output_field: metaDescription  # Use camelCase for consistency
  max_length: 160
- type: excerpt
  module: shared.generation.excerpt_generator
  class: ExcerptGenerator
  source_field: contaminant_description
  output_field: micro
  mode: sentences
  length: 2
- type: section_metadata
  module: export.generation.section_metadata_generator
  class: SectionMetadataGenerator
  sections:
    chemical_formula:
      presentation: list
      title: Chemical Formula
      description: Molecular structure and composition of this contamination
      icon: microscope
      order: 1
      variant: default
    scientific_name:
      presentation: list
      title: Scientific Name
      description: Formal scientific nomenclature and classification
      icon: file-text
      order: 2
      variant: default
    context_notes:
      presentation: list
      title: Context Notes
      description: Additional context and important considerations for this contamination
        type
      icon: file-text
      order: 3
      variant: default
    formation_conditions:
      presentation: card
      title: Formation Conditions
      description: Environmental and process conditions that create this contamination
      icon: wind
      order: 4
      variant: default
    required_elements:
      presentation: card
      title: Required Elements
      description: Chemical elements necessary for this contamination to form
      icon: microscope
      order: 5
      variant: default
    caution_materials:
      presentation: card
      title: Materials Requiring Caution
      description: Materials that need special consideration for laser removal of
        this contamination
      icon: alert-triangle
      order: 6
      variant: warning
    prohibited_materials:
      presentation: card
      title: Prohibited Materials
      description: Materials where laser removal of this contamination is not recommended
      icon: alert-triangle
      order: 7
      variant: danger
    eeat:
      presentation: list
      title: Evidence & Expertise
      description: Supporting evidence, citations, and expert analysis for this contamination
      icon: file-text
      order: 8
      variant: default
    laser_properties:
      presentation: list
      title: Laser Parameters
      description: Optimal laser settings and technical parameters for removal
      icon: zap
      order: 9
      variant: default
    visual_characteristics:
      presentation: list
      title: Visual Characteristics
      description: Physical appearance and identification features of this contamination
      icon: eye
      order: 10
      variant: default
    materials:
      presentation: card
      title: Found On Materials
      description: Materials where this contaminant is commonly found
      icon: box
      order: 10
      variant: default
    technical.affects_materials:
      presentation: card
      title: Affects Materials
      description: Materials impacted by this contaminant
      icon: box
      order: 1
      variant: default
    technical.produces_compounds:
      presentation: card
      title: Produces Compounds
      description: Hazardous compounds generated during laser removal
      icon: flask
      order: 3
      variant: warning
    safety.regulatory_standards:
      presentation: card
      title: Regulatory Standards
      description: OSHA, ANSI, ISO, and industry safety standards
      icon: shield-check
      order: 1
      variant: default
    realism_notes:
      presentation: list
      title: Realism Notes
      description: Important considerations for accurate representation and understanding
      icon: file-text
      order: 11
      variant: default
- type: safety_table_normalizer
  module: export.archive.enrichers-deprecated-dec29-2025.contaminants.safety_table_normalizer
  class: SafetyTableNormalizer
  description: Normalize safety table formats (fumes_generated, particulate_generation)
- type: field_order
  module: export.archive.enrichers-deprecated-dec29-2025.metadata.field_order_enricher
  class: FieldOrderEnricher
  description: Normalize field order for consistency (must run last)
# Enrichers deprecated - all functionality moved to generators above
# See: export/archive/enrichers-deprecated-dec29-2025/
_deprecated_enrichments:
- type: universal_restructure
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.restructure_enricher
  class: UniversalRestructureEnricher
  domain: contaminants
  cleanup_rules:
    old_relationship_keys:
    - related_contaminants
    - related_materials
    - related_compounds
    legacy_fields:
    - metadata
    - voice_enhanced
    - valid_materials
    - description
    extract_from_nested:
      laser_properties:
      - safety_data
    duplicate_fields:
      visual_characteristics: visual_characteristics
      laser_properties: laser_properties
    move_to_relationships:
    - eeat
    - caution_materials
    - prohibited_materials
    - regulatory_standards_detail
    - context_notes
    - realism_notes
    - formation_conditions
    - safety_data
    - chemical_formula
    - scientific_name
    - required_elements
    keep_at_top_level:
    - safety_data
    - category
    - subcategory
    - images
- type: compound_linkage
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.compound_linkage_enricher
  class: CompoundLinkageEnricher
  field: produces_compounds
  title: Compounds Released
  description: Hazardous fumes and particles generated when removing this contamination
  source: data/compounds/Compounds.yaml
  defaults:
  - concentration_range
  - hazard_class
  - exposure_limits
  - control_measures
  - cas_number
  - compound_category
- type: material_linkage
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.material_linkage_enricher
  class: MaterialLinkageEnricher
  field: materials
  title: Found on Materials
  description: Materials commonly affected by this type of contamination
  source: data/materials/Materials.yaml
  defaults:
  - category
  - subcategory
  - material_type
  - thermal_conductivity
  - reflectivity
- type: removal_by_material
  module: export.archive.enrichers-deprecated-dec29-2025.contaminants.removal_by_material_enricher
  class: RemovalByMaterialEnricher
  description: Material-specific laser removal parameters, efficiency, and safety
    guidance (Dec 20, 2025)
- type: settings_linkage
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.settings_linkage_enricher
  class: SettingsLinkageEnricher
  field: related_settings
  title: Effective Settings
  description: Laser parameters optimized for removing this type of contamination
  source: data/settings/Settings.yaml
  defaults:
  - setting_category
  - power_watts
- type: timestamp
  module: export.archive.enrichers-deprecated-dec29-2025.metadata.timestamp_enricher
  class: TimestampEnricher
  fields:
  - datePublished
  - dateModified
- type: author
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.author_enricher
  class: AuthorEnricher
- type: images
  module: export.archive.enrichers-deprecated-dec29-2025.media.image_enricher
  class: ImageEnricher
  domain: contaminants
- type: breadcrumb
  module: export.archive.enrichers-deprecated-dec29-2025.navigation.breadcrumb_enricher
  class: BreadcrumbEnricher
  domain: contaminants
  category_field: category
  subcategory_field: subcategory
  name_field: name
- type: relationship_group
  module: export.archive.enrichers-deprecated-dec29-2025.relationships.group_enricher
  class: RelationshipGroupEnricher
  description: Group relationships into technical/safety/operational categories
  relationship_groups:
    technical:
    - affects_materials
    - produces_compounds
    safety:
    - regulatory_standards
    - caution_materials
    operational:
    - common_challenges
    - industry_applications
_deprecated_library_enrichments:
  enabled: false
  enrichments:
  - type: regulatory_standards
    relationship_field: relationships.regulatory_standards
    output_field: regulatory_standards_detail
