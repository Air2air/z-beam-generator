# Materials Domain Export Configuration
# Cross-references: domains/materials/config.yaml (generation settings)
# Schema: export/config/schema.yaml

domain: materials
source_file: data/materials/Materials.yaml
output_path: ../z-beam/frontmatter/materials
items_key: materials
filename_suffix: ''
relationship_groups:
  technical:
  - contaminated_by
  safety:
  - regulatory_standards
  operational:
  - industry_applications
# Section metadata configuration
# Note: section_title and section_description are DISPLAYED to users
#       section_metadata is for INTERNAL reference only (developer notes)
section_metadata:
  # INTERACTIONS category
  interactions.contaminated_by:
    section_title: Common Contaminants
    section_description: Types of contamination typically found on this material that require laser cleaning
    icon: droplet
    order: 1
    variant: default
    section_metadata:
      notes: Cross-references to contaminant pages
      relationship_type: contaminated_by
      presentation_type: card
  
  # OPERATIONAL category
  operational.industry_applications:
    section_title: Industry Applications
    section_description: Industries and sectors where this material is commonly used
    icon: building-2
    order: 1
    variant: default
    section_metadata:
      notes: Real-world use cases in card format
      presentation_type: card
      features: auto_open_first
  
  operational.expert_answers:
    section_title: Expert Q&A
    section_description: Frequently asked questions answered by laser cleaning experts
    icon: message-circle-question
    order: 2
    variant: default
    section_metadata:
      notes: Q&A format expert insights
      presentation_type: collapsible
      features: auto_open_first
  
  # SAFETY category
  safety.regulatory_standards:
    section_title: Regulatory Standards
    section_description: Safety and compliance standards applicable to laser cleaning of this material
    icon: shield-check
    order: 1
    variant: default
    section_metadata:
      notes: Compliance requirements
      presentation_type: card
id_field: id
generators:
# Core Principle 0.6 Compliance (Jan 5, 2026):
# ALL data enhancement tasks moved to source enrichment (scripts/enrichment/enrich_source_data.py)
# Export now ONLY transforms format, does NOT create/enhance data
- type: universal_content
  module: export.generation.universal_content_generator
  class: UniversalContentGenerator
  tasks:
  # ALLOWED: Format-only transformation tasks
  - type: camelcase_normalization
    description: Convert snake_case â†’ camelCase for software metadata fields
  # normalize_applications removed - data already in card format at operational.industry_applications
  - type: normalize_expert_answers
    target_field: operational.expert_answers
    description: Convert FAQ to expert_answers collapsible format
  - type: normalize_safety_standards
    target_field: safety.regulatory_standards
    description: Convert regulatory standards to collapsible format
  - type: field_ordering
    domain: materials
    description: Organize output structure
# ALLOWED: Cleanup and ordering (format transformation only)
- type: field_cleanup
  module: export.generation.field_cleanup_generator
  class: FieldCleanupGenerator
  description: Remove deprecated/temporary fields
- type: field_order
  module: export.generation.field_order_generator
  class: FieldOrderGenerator
  description: Normalize field order for consistency (must run last)
# Enrichers deprecated - all functionality moved to generators above
# See: export/archive/enrichers-deprecated-dec29-2025/
_deprecated_enrichments:
- type: universal_restructure
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.restructure_enricher
  class: UniversalRestructureEnricher
  domain: materials
  cleanup_rules:
    old_relationship_keys:
    - related_contaminants
    - related_materials
    - related_compounds
    legacy_fields:
    - metadata
    - eeat
    - voice_enhanced
    duplicate_fields:
      regulatory_standards: regulatory_standards
- type: compound_linkage
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.compound_linkage_enricher
  class: CompoundLinkageEnricher
  field: produces_compounds
  title: Compounds Produced
  description: Hazardous fumes and particles generated when laser processing this
    material
  source: data/compounds/Compounds.yaml
  defaults:
  - concentration_range
  - hazard_class
  - exposure_limits
  - control_measures
  - cas_number
  - compound_category
- type: contaminant_linkage
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.contaminant_linkage_enricher
  class: ContaminantLinkageEnricher
  field: removes_contaminants
  title: Contaminants Removed
  description: Types of contamination that can be effectively cleaned from this material
  source: data/contaminants/Contaminants.yaml
  defaults:
  - category
  - subcategory
  - hazard_level
  - contaminant_category
  - commonality_score
- type: material_linkage
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.material_linkage_enricher
  class: MaterialLinkageEnricher
  field: related_materials
  title: Related Materials
  description: Similar materials with comparable laser cleaning properties and characteristics
  source: data/materials/Materials.yaml
  defaults:
  - category
  - subcategory
  - material_type
  - thermal_conductivity
  - reflectivity
- type: settings_linkage
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.settings_linkage_enricher
  class: SettingsLinkageEnricher
  field: related_settings
  title: Recommended Settings
  description: Laser parameters and configurations optimized for cleaning this material
  source: data/settings/Settings.yaml
  defaults:
  - setting_category
  - power_watts
  - pulse_frequency_hz
  - recommended_for
- type: timestamp
  module: export.archive.enrichers-deprecated-dec29-2025.metadata.timestamp_enricher
  class: TimestampEnricher
  fields:
  - datePublished
  - dateModified
- type: author
  module: export.archive.enrichers-deprecated-dec29-2025.linkage.author_enricher
  class: AuthorEnricher
- type: images
  module: export.archive.enrichers-deprecated-dec29-2025.media.image_enricher
  class: ImageEnricher
  domain: materials
- type: breadcrumb
  module: export.archive.enrichers-deprecated-dec29-2025.navigation.breadcrumb_enricher
  class: BreadcrumbEnricher
  domain: materials
  category_field: category
  subcategory_field: subcategory
  name_field: name
- type: relationship_group
  module: export.archive.enrichers-deprecated-dec29-2025.relationships.group_enricher
  class: RelationshipGroupEnricher
  description: Group relationships into technical/safety/operational categories
  relationship_groups:
    technical:
    - contaminated_by
    safety:
    - regulatory_standards
    operational:
    - industry_applications
- type: section_metadata
  module: export.archive.enrichers-deprecated-dec29-2025.metadata.section_metadata_enricher
  class: SectionMetadataEnricher
  description: Add _section metadata AFTER grouping (must run after relationship_group
    enricher)
  sections:
    contaminated_by:
      presentation: card
      title: Common Contaminants
      description: Types of contamination typically found on this material that require
        laser cleaning
      icon: droplet
      order: 1
      variant: default
    regulatory_standards:
      presentation: card
      title: Regulatory Standards
      description: Safety and compliance standards applicable to laser cleaning of
        this material
      icon: shield-check
      order: 2
      variant: default
    industry_applications:
      presentation: card
      title: Industry Applications
      description: Industries and sectors where this material is commonly used
      icon: building-2
      order: 3
      variant: default
    technical.contaminated_by:
      presentation: card
      title: Common Contaminants
      description: Types of contamination typically found on this material that require
        laser cleaning
      icon: droplet
      order: 1
      variant: default
    safety.regulatory_standards:
      presentation: card
      title: Regulatory Standards
      description: Safety and compliance standards applicable to laser cleaning of
        this material
      icon: shield-check
      order: 2
      variant: default
    operational.industry_applications:
      presentation: card
      title: Industry Applications
      description: Industries and sectors where this material is commonly used
      icon: building-2
      order: 3
      variant: default
_deprecated_library_enrichments:
  enabled: false
  enrichments:
  - type: regulatory_standards
    relationship_field: relationships.regulatory_standards
    output_field: regulatory_standards_detail
