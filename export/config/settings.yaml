# Settings Domain Configuration
# Configuration for UniversalFrontmatterExporter (Phase 2)
# Created: December 17, 2025

# ============================================================================
# DOMAIN IDENTITY
# ============================================================================
domain: settings
source_file: data/settings/Settings.yaml
output_path: /Users/todddunning/Desktop/Z-Beam/z-beam/frontmatter/settings
items_key: settings
filename_suffix: -settings
slugify_filenames: true  # Settings use material names with spaces/parens as keys

# ============================================================================
# ENRICHMENTS (Applied in order)
# ============================================================================
enrichments:
  # 1. Enrich material linkages (applies_to_materials)
  - type: material_linkage
    field: applies_to_materials
    title: Applicable Materials
    description: Materials that can be safely cleaned using these laser parameters
    source: data/materials/Materials.yaml
    defaults:
      - category
      - subcategory
      - material_type
      - thermal_conductivity
      - reflectivity
  
  # 2. Enrich contaminant linkages (effective_against_contaminants)
  - type: contaminant_linkage
    field: effective_against_contaminants
    title: Effective Against
    description: Types of contamination that can be removed using these laser settings
    source: data/contaminants/Contaminants.yaml
    defaults:
      - category
      - subcategory
      - hazard_level
      - contaminant_category
      - commonality_score
  
  # 3. Enrich compound linkages (relevant_compounds)
  - type: compound_linkage
    field: relevant_compounds
    title: Safety Considerations
    description: Hazardous compounds that may be generated when using these settings
    source: data/compounds/Compounds.yaml
    defaults:
      - concentration_range
      - hazard_class
      - exposure_limits
      - control_measures
      - cas_number
      - compound_category
  
  # 4. Add timestamps
  - type: timestamp
    fields:
      - datePublished
      - dateModified
  
  # 5. Expand author field with full profile
  - type: author
  
  # 6. Generate breadcrumb navigation (array format)
  - type: breadcrumb
    domain: settings
    category_field: setting_category
    name_field: setting_name

# ============================================================================
# LIBRARY ENRICHMENTS (Expand library relationships with full data)
# ============================================================================
library_enrichments:
  # Enable library-based enrichment for settings
  enabled: true
  
  # Define enrichment mappings (relationship field â†’ output field)
  enrichments:
    # Regulatory Standards
    - type: regulatory_standards
      relationship_field: relationships.regulatory_standards
      output_field: regulatory_standards_detail

# ============================================================================
# CONTENT GENERATORS (Applied in order)
# ============================================================================
generators:
  # 1. Generate SEO meta description from settings_description
  - type: seo_description
    source_field: settings_description
    output_field: seo_description
    max_length: 160
  
  # Note: Breadcrumb navigation generated by export process
  # (creates proper array structure with label/href objects)
  
  # 2. Generate excerpt from settings_description
  - type: excerpt
    source_field: settings_description
    output_field: excerpt
    mode: words
    length: 50
