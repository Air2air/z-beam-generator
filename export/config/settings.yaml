domain: settings
source_file: data/settings/Settings.yaml
output_path: ../z-beam/frontmatter/settings
items_key: settings
filename_suffix: ''  # IDs already have -settings suffix, no need to add again
slugify_filenames: true
enrichments:
- type: material_linkage
  module: export.enrichers.linkage.material_linkage_enricher
  class: MaterialLinkageEnricher
  field: materials
  title: Applicable Materials
  description: Materials that can be safely cleaned using these laser parameters
  source: data/materials/Materials.yaml
  defaults:
  - category
  - subcategory
  - material_type
  - thermal_conductivity
  - reflectivity
- type: contaminant_linkage
  module: export.enrichers.linkage.contaminant_linkage_enricher
  class: ContaminantLinkageEnricher
  field: contaminants
  title: Effective Against
  description: Types of contamination that can be removed using these laser settings
  source: data/contaminants/Contaminants.yaml
  defaults:
  - category
  - subcategory
  - hazard_level
  - contaminant_category
  - commonality_score
- type: compound_linkage
  module: export.enrichers.linkage.compound_linkage_enricher
  class: CompoundLinkageEnricher
  field: relevant_compounds
  title: Safety Considerations
  description: Hazardous compounds that may be generated when using these settings
  source: data/compounds/Compounds.yaml
  defaults:
  - concentration_range
  - hazard_class
  - exposure_limits
  - control_measures
  - cas_number
  - compound_category
- type: timestamp
  module: export.enrichers.metadata.timestamp_enricher
  class: TimestampEnricher
  fields:
  - datePublished
  - dateModified
- type: author
  module: export.enrichers.metadata.author_enricher
  class: AuthorEnricher
- type: name
  module: export.enrichers.metadata.name_enricher
  class: NameEnricher
- type: material_category
  module: export.enrichers.categorization.material_category_enricher
  class: MaterialCategoryEnricher
- type: breadcrumb
  module: export.enrichers.navigation.breadcrumb_enricher
  class: BreadcrumbEnricher
  domain: settings
  category_field: category
  subcategory_field: subcategory
  name_field: name
- type: title
  module: export.enrichers.metadata.title_enricher
  class: TitleEnricher
  template: "{name} Settings"
  skip_if_exists: true
# - type: relationship_urls  # DISABLED - Frontend derives URLs from full_path (ID-based lookup)
#   module: export.enrichers.relationships.relationship_url_enricher
#   class: RelationshipURLEnricher
#   description: Adds url field to all relationship items based on target's full_path
- type: relationship_intensity
  module: export.enrichers.relationships.intensity_enricher
  class: IntensityEnricher
  description: Dynamically derives intensity from severity/effectiveness/frequency
library_enrichments:
  enabled: false  # Disabled - incompatible with new relationship structure
  enrichments:
  - type: regulatory_standards
    relationship_field: relationships.regulatory_standards
    output_field: regulatory_standards_detail
generators:
- type: seo_metadata
  module: export.generation.seo_metadata_generator
  class: SEOMetadataGenerator
  page_type: settings
  title_field: page_title
  description_field: meta_description
- type: field_cleanup
  module: export.generation.field_cleanup
  class: FieldCleanupGenerator
- type: seo_description
  module: export.generation.seo
  class: SEODescriptionGenerator
  source_field: description
  output_field: seo_description
  max_length: 160
- type: excerpt
  module: export.generation.excerpt
  class: ExcerptGenerator
  source_field: description
  output_field: micro
  mode: sentences
  length: 2
generators:
- type: section_metadata
  module: export.generation.section_metadata_generator
  class: SectionMetadataGenerator
  sections:
    optimized_for_materials:
      presentation: card
    removes_contaminants:
      presentation: card
    regulatory_standards:
      presentation: card
enrichers:
- name: DomainLinkagesEnricher
  enabled: true
  config:
    relationship_types:
    - applies_to_materials
    - effective_against_contaminants
