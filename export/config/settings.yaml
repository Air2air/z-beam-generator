# Settings Domain Export Configuration
# Cross-references: domains/settings/config.yaml (generation settings)
# Schema: export/config/schema.yaml

domain: settings
source_file: data/settings/Settings.yaml
output_path: ../z-beam/frontmatter/settings
items_key: settings
filename_suffix: ''
slugify_filenames: true
id_field: id

generators:
# Core Principle 0.6 Compliance (Jan 5, 2026):
# ALL data enhancement tasks moved to source enrichment (scripts/enrichment/enrich_source_data.py)
# Export now ONLY transforms format, does NOT create/enhance data
- type: universal_content
  module: export.generation.universal_content_generator
  class: UniversalContentGenerator
  tasks:
  - type: export_metadata
    description: Add ONLY export-time fields (dateModified, pageTitle if missing)
  - type: camelcase_normalization
    description: Convert snake_case → camelCase for software metadata fields
  # NOTE (Jan 7, 2026): section_metadata task removed - _section metadata now exists in source data
  # Per Core Principle 0.6: ✅ COMPLETE - Export adds ONLY export-time fields
  - type: field_ordering
    domain: settings
    description: Organize output structure
- type: field_order
  module: export.generation.field_order_generator
  class: FieldOrderGenerator
  description: Normalize field order for consistency (must run last)
# Enrichers deprecated - all functionality moved to generators above
# See: export/archive/enrichers-deprecated-dec29-2025/
_deprecated_enrichments:
  - type: field_mapping
    mappings:
      title: ['page_title', 'name']
      metaDescription: ['meta_description', 'description']
      contentType: 'content_type'
      fullPath: 'full_path'
      pageTitle: 'page_title'
      schemaVersion: 'schema_version'
      datePublished: 'datePublished'
      dateModified: 'dateModified'
    description: Map field names for consistency (deprecated - moved to tasks)
  - type: material_linkage
    module: export.archive.enrichers-deprecated-dec29-2025.linkage.material_linkage_enricher
    class: MaterialLinkageEnricher
    field: materials
    title: Applicable Materials
    description: Materials that can be safely cleaned using these laser parameters
    source: data/materials/Materials.yaml
    defaults:
    - category
    - subcategory
    - material_type
    - thermal_conductivity
    - reflectivity
  - type: contaminant_linkage
    module: export.archive.enrichers-deprecated-dec29-2025.linkage.contaminant_linkage_enricher
    class: ContaminantLinkageEnricher
    field: contaminants
    title: Effective Against
    description: Types of contamination that can be removed using these laser settings
    source: data/contaminants/Contaminants.yaml
    defaults:
    - category
    - subcategory
    - hazard_level
    - contaminant_category
    - commonality_score
  - type: compound_linkage
    module: export.archive.enrichers-deprecated-dec29-2025.linkage.compound_linkage_enricher
    class: CompoundLinkageEnricher
    field: relevant_compounds
    title: Safety Considerations
    description: Hazardous compounds that may be generated when using these settings
    source: data/compounds/Compounds.yaml
    defaults:
    - concentration_range
    - hazard_class
    - exposure_limits
    - control_measures
    - cas_number
    - compound_category
  - type: timestamp
    module: export.archive.enrichers-deprecated-dec29-2025.metadata.timestamp_enricher
    class: TimestampEnricher
    fields:
    - datePublished
    - dateModified
  - type: author
    module: export.archive.enrichers-deprecated-dec29-2025.linkage.author_enricher
    class: AuthorEnricher
  - type: images
    module: export.archive.enrichers-deprecated-dec29-2025.media.image_enricher
    class: ImageEnricher
    domain: settings
  - type: name
    module: export.archive.enrichers-deprecated-dec29-2025.metadata.name_enricher
    class: NameEnricher
  - type: material_category
    module: export.archive.enrichers-deprecated-dec29-2025.categorization.material_category_enricher
    class: MaterialCategoryEnricher
  - type: breadcrumb
    module: export.archive.enrichers-deprecated-dec29-2025.navigation.breadcrumb_enricher
    class: BreadcrumbEnricher
    domain: settings
    category_field: category
    subcategory_field: subcategory
    name_field: name
  - type: relationship_group
    module: export.archive.enrichers-deprecated-dec29-2025.relationships.group_enricher
    class: RelationshipGroupEnricher
    description: Group relationships into technical/safety/operational categories
    relationship_groups:
      technical:
      - works_on_materials
      - removes_contaminants
      safety:
      - regulatory_standards
      operational:
      - common_challenges
      - equipment_requirements
  - type: title
    module: export.archive.enrichers-deprecated-dec29-2025.metadata.title_enricher
    class: TitleEnricher
    template: '{name} Settings'
    skip_if_exists: true
  - type: relationship_intensity
    module: export.archive.enrichers-deprecated-dec29-2025.relationships.intensity_enricher
    class: IntensityEnricher
    description: Dynamically derives intensity from severity/effectiveness/frequency
  - type: field_order
    module: export.archive.enrichers-deprecated-dec29-2025.metadata.field_order_enricher
    class: FieldOrderEnricher
    description: Normalize field order for consistency
_deprecated_library_enrichments:
  enabled: false
  enrichments:
  - type: regulatory_standards
    relationship_field: relationships.regulatory_standards
    output_field: regulatory_standards_detail
