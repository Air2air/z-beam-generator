# Complete Contaminant Categorization Mapping

**Date**: December 14, 2025  
**Status**: Ready for Implementation  
**Coverage**: 99/99 patterns (100%)

---

## Executive Summary

This document provides the **complete categorization mapping** for all 99 contamination patterns, organized into **8 main categories** and **27 subcategories**. This structure mirrors the materials domain organization and enables:

- ✅ **SEO optimization** - Category-based URLs and landing pages
- ✅ **Improved navigation** - Logical grouping and filtering
- ✅ **Better UX** - Users find relevant contaminants faster
- ✅ **Domain consistency** - Same structure as materials (10 categories, specific subcategories)

---

## Category Distribution

| Category | Patterns | Percentage | Subcategories |
|----------|----------|------------|---------------|
| **organic_residue** | 34 | 34.3% | 8 |
| **inorganic_coating** | 17 | 17.2% | 5 |
| **thermal_damage** | 12 | 12.1% | 3 |
| **chemical_residue** | 11 | 11.1% | 2 |
| **metallic_coating** | 9 | 9.1% | 2 |
| **oxidation** | 8 | 8.1% | 3 |
| **biological** | 7 | 7.1% | 2 |
| **aging** | 1 | 1.0% | 1 |
| **TOTAL** | **99** | **100%** | **27** |

---

## Category 1: ORGANIC RESIDUE (34 patterns)

### Subcategory: petroleum (4 patterns)
- `bitumen-tar` → Bitumen and Tar Coatings
- `fuel-varnish` → Fuel System Varnish
- `grease-deposits` → Heavy Machinery Grease
- `industrial-oil` → Industrial Oil / Grease Buildup

### Subcategory: adhesive (6 patterns)
- `adhesive-residue` → Adhesive Residue / Tape Marks
- `aviation-sealant` → Aerospace Sealant Residue
- `epoxy-residue` → Epoxy Resin Deposits
- `gasket-material` → Gasket Material Residue
- `silicone-buildup` → Silicone Sealant Buildup
- `thread-locker` → Threadlocker Adhesive

### Subcategory: polymer (2 patterns)
- `plastic-residue` → Degraded Polymer Deposits
- `rubber-residue` → Rubber Compound Residue

### Subcategory: biological_fluid (2 patterns)
- `brake-dust` → Brake Pad Dust Deposits
- `hydraulic-fluid` → Hydraulic Fluid Contamination

### Subcategory: wax (2 patterns)
- `metal-polish` → Metal Polish Residue
- `wax-buildup` → Wax Coating Buildup

### Subcategory: marking (3 patterns)
- `graphite-marks` → Graphite Deposit Traces
- `ink-stains` → Printing Ink Residue
- `laser-marking` → Laser Marking Discoloration

### Subcategory: lubricant (2 patterns)
- `anti-seize` → Anti-Seize Compound
- `solder-flux` → Soldering Flux Residue

### Subcategory: cleaning_agent (1 pattern)
- `soap-scum` → Soap Scum Buildup

### Subcategory: natural (1 pattern)
- `tree-sap` → Tree Sap and Resin

### Subcategory: other (11 patterns)
- `brass-plating` → Brass Coating Removal
- `carbon-buildup` → Carbon Deposit Buildup
- `carbon-soot` → Carbon Soot Deposits
- `chemical-stains` → Chemical Stains / Acid Etching
- `chrome-pitting` → Chromium Oxide Pitting
- `environmental-dust` → Environmental Dust Layer
- `natural-weathering` → Natural Weathering (NO NAME IN SOURCE)
- `road-grime` → Automotive Road Grime
- `teflon-residue` → PTFE Coating Residue
- `undercoating` → Automotive Undercoating
- `water-stain` → Water Staining and Marks

---

## Category 2: INORGANIC COATING (17 patterns)

### Subcategory: paint (5 patterns)
- `graffiti-paint` → Graffiti and Spray Paint
- `lead-paint` → Lead-Based Paint Removal
- `paint-residue` → Paint Residue / Coating Failure
- `powder-coating` → Powder Coating Buildup
- `primer-coating` → Paint Primer Layers

### Subcategory: ceramic (2 patterns)
- `ceramic-coating` → Ceramic Heat Barrier Coating
- `ceramic-glaze` → Ceramic Glaze Deposits

### Subcategory: mineral (4 patterns)
- `concrete-dust` → Concrete Dust Deposits
- `efflorescence` → Concrete Efflorescence
- `mineral-stain` → Mineral Staining
- `salt-residue` → Salt and Chloride Deposits

### Subcategory: coating (5 patterns)
- `conversion-coating` → Chemical Conversion Coating
- `diamond-coating` → Diamond-Like Carbon Removal
- `passivation-defect` → Passivation Layer Irregularities
- `pickling-residue` → Acid Pickling Stains
- `pvd-coating` → PVD Coating Defects

### Subcategory: hazardous (1 pattern)
- `asbestos-coating` → Asbestos-Containing Material

---

## Category 3: THERMAL DAMAGE (12 patterns)

### Subcategory: scale (7 patterns)
- `annealing-scale` → Heat Treatment Scale
- `coolant-scale` → Engine Coolant Scale
- `forging-scale` → Forging Mill Scale
- `lime-scale` → Limescale Deposits
- `mineral-deposits` → Hard Water Mineral Scale
- `quench-oil` → Quenching Oil Residue
- `scale-buildup` → Mineral Scale / Hard Water Deposits

### Subcategory: fire (2 patterns)
- `exhaust-residue` → Exhaust System Deposits
- `fire-damage` → Fire and Smoke Damage

### Subcategory: coating (3 patterns)
- `cutting-fluid` → Machining Coolant Residue
- `plasma-spray` → Thermal Spray Coating
- `thermal-paste` → Thermal Compound Deposits

---

## Category 4: CHEMICAL RESIDUE (11 patterns)

### Subcategory: hazardous (4 patterns)
- `beryllium-oxide` → Beryllium Oxide Contamination
- `mercury-contamination` → Mercury Spill Residue
- `radioactive-contamination` → Surface Radioactive Contamination
- `uranium-oxide` → Depleted Uranium Oxide

### Subcategory: industrial (7 patterns)
- `fertilizer-residue` → Fertilizer Salt Deposits
- `medical-disinfectant` → Medical Disinfectant Residue
- `pcb-contamination` → PCB Oil Contamination
- `pesticide-residue` → Pesticide Chemical Residue
- `pharmaceutical-residue` → Pharmaceutical Drug Residue
- `semiconductor-residue` → Semiconductor Processing Residue
- `surgical-marking` → Surgical Ink Markings

---

## Category 5: METALLIC COATING (9 patterns)

### Subcategory: plating (8 patterns)
- `cadmium-plating` → Cadmium Plating Removal
- `copper-plating` → Copper Electroplating
- `electroplating-residue` → Electroplating Solution Residue
- `gold-plating` → Gold Electroplating
- `nickel-plating` → Electroless Nickel Plating
- `silver-plating` → Silver Plating Residue
- `tin-plating` → Tin Plating Residue
- `zinc-plating` → Zinc Electroplating

### Subcategory: anodizing (1 pattern)
- `anodizing-defects` → Anodizing Layer Irregularities

---

## Category 6: OXIDATION (8 patterns)

### Subcategory: ferrous (3 patterns)
- `galvanize-corrosion` → White Rust on Galvanized Steel
- `rust-oxidation` → Rust / Iron Oxide Formation
- `steel-corrosion` → Steel Surface Corrosion

### Subcategory: non-ferrous (4 patterns)
- `aluminum-oxidation` → Aluminum Oxidation
- `bronze-patina` → Bronze Patina and Corrosion
- `copper-patina` → Copper Patina / Verdigris
- `corrosion-inhibitor` → Corrosion Inhibitor Coating

### Subcategory: battery (1 pattern)
- `battery-corrosion` → Battery Leakage Corrosion

---

## Category 7: BIOLOGICAL (7 patterns)

### Subcategory: growth (3 patterns)
- `algae-growth` → Algae and Lichen Growth
- `mold-mildew` → Mold and Mildew Growth
- `wood-rot` → Wood Rot / Fungal Biodegradation

### Subcategory: deposit (4 patterns)
- `biological-stains` → Organic Biofilm Deposits
- `blood-residue` → Biological Blood Residue
- `insect-residue` → Insect Impact Residue
- `pollen-deposit` → Pollen Accumulation

---

## Category 8: AGING (1 pattern)

### Subcategory: photodegradation (1 pattern)
- `uv-chalking` → UV Photodegradation / Polymer Chalking

---

## Implementation Phases

### Phase 1: Update Source Data (HIGH PRIORITY)
**File**: `data/contaminants/Contaminants.yaml`  
**Action**: Add `category` and `subcategory` fields to all 99 patterns

**Example Update**:
```yaml
contamination_patterns:
  rust-oxidation:
    pattern_id: rust-oxidation
    name: Rust / Iron Oxide Formation
    category: oxidation              # ADD THIS
    subcategory: ferrous             # ADD THIS
    valid_materials: [...]
    appearance: [...]
```

**Tools**:
- Manual update: Edit YAML file directly
- Automated: Create Python script to bulk update all patterns
- Verification: Run schema validation after update

---

### Phase 2: Update Exporter (MEDIUM PRIORITY)
**File**: `export/contaminants/trivial_exporter.py`  
**Action**: Change from fallback to fail-fast on missing categories

**Current Code** (lines 198-199):
```python
# Fallback to generic if missing
category = pattern_data.get('category', 'contamination')
subcategory = pattern_data.get('subcategory', 'contamination')
```

**New Code** (fail-fast):
```python
# Fail-fast on missing categories
if 'category' not in pattern_data:
    raise ValueError(f"Pattern {pattern_id} missing required 'category' field")
if 'subcategory' not in pattern_data:
    raise ValueError(f"Pattern {pattern_id} missing required 'subcategory' field")

category = pattern_data['category']
subcategory = pattern_data['subcategory']
```

---

### Phase 3: Re-Export Frontmatter (HIGH PRIORITY)
**Command**: `python3 run.py --export contaminants`  
**Result**: All 99 frontmatter files regenerated with proper categories

**Verification**:
```bash
# Check category distribution
grep -h "^category:" frontmatter/contaminants/*.yaml | sort | uniq -c

# Expected output:
#   34 category: organic_residue
#   17 category: inorganic_coating
#   12 category: thermal_damage
#   11 category: chemical_residue
#    9 category: metallic_coating
#    8 category: oxidation
#    7 category: biological
#    1 category: aging
```

---

### Phase 4: Update Tests & Docs (MEDIUM PRIORITY)

**Tests to Update**:
1. `test_crosslinking_url_accuracy.py` - Verify category structure
2. `test_normalized_exports.py` - Add category validation
3. Create `test_contaminant_categories.py` - New test for categories

**Documentation to Update**:
1. `CONTAMINANT_SLUG_POLICY.md` - Add category requirements
2. `docs/domains/contaminants/README.md` - Document category structure
3. `docs/05-data/CONTAMINANTS_DATA_STRUCTURE.md` - Add category schema

---

## URL Structure Options

### Option A: Flat Structure (CURRENT)
```
/contaminants/rust-oxidation-contamination
/contaminants/paint-residue-contamination
```

**Pros**: Simple, consistent with current structure  
**Cons**: No SEO benefit from category in URL

### Option B: Category in URL (RECOMMENDED)
```
/contaminants/oxidation/rust-oxidation-contamination
/contaminants/inorganic-coating/paint-residue-contamination
```

**Pros**: Better SEO, clearer navigation, category landing pages  
**Cons**: URL changes (need redirects)

### Option C: Hybrid (subcategory in URL)
```
/contaminants/ferrous/rust-oxidation-contamination
/contaminants/paint/paint-residue-contamination
```

**Pros**: Most specific URLs, granular navigation  
**Cons**: Complex structure, many subcategory pages needed

---

## Benefits Analysis

### SEO Improvements
- **Category landing pages**: `/contaminants/oxidation` (8 patterns)
- **Keyword optimization**: "oxidation contamination removal" vs generic "contamination removal"
- **Structured data**: JSON-LD breadcrumbs with category hierarchy
- **Internal linking**: Related patterns within same category

### UX Improvements
- **Filtering**: "Show only organic residue contaminants"
- **Related patterns**: "Other adhesive contaminants you might need"
- **Clearer navigation**: Users browse by problem type (oxidation, biological, etc.)
- **Better search**: Category-based faceted search

### Maintenance Benefits
- **Consistency**: Same structure as materials domain
- **Scalability**: Easy to add new patterns within existing categories
- **Data quality**: Forced categorization prevents generic fallbacks
- **Analytics**: Track which category types get most traffic

---

## Data Quality Notes

### Missing Name (1 pattern)
**Pattern**: `natural-weathering`  
**Current**: No name in source data  
**Action**: Add proper name or remove pattern

### Questionable Categorization (3 patterns)
These patterns might fit in multiple categories:

1. **brass-plating** (currently: organic_residue/other)
   - Could be: metallic_coating/plating
   - Reason: "brass" suggests metal plating
   - Recommendation: Move to metallic_coating

2. **chrome-pitting** (currently: organic_residue/other)
   - Could be: oxidation/non-ferrous
   - Reason: "pitting" suggests corrosion
   - Recommendation: Move to oxidation

3. **chemical-stains** (currently: organic_residue/other)
   - Could be: chemical_residue/industrial
   - Reason: "chemical" suggests residue
   - Recommendation: Move to chemical_residue

---

## Next Steps

1. **IMMEDIATE**: User review and approve categorization
2. **PHASE 1**: Update Contaminants.yaml with categories/subcategories
3. **PHASE 2**: Update trivial_exporter.py (fail-fast on missing categories)
4. **PHASE 3**: Re-export all 99 frontmatter files
5. **PHASE 4**: Update tests and documentation
6. **PHASE 5**: Create category landing pages (optional)
7. **PHASE 6**: Implement URL structure (if Option B chosen)

---

## Questions for User

1. **Approve categories**: Are the 8 main categories appropriate?
2. **Approve subcategories**: Is the subcategory granularity correct?
3. **Questionable patterns**: Move brass-plating, chrome-pitting, chemical-stains?
4. **URL structure**: Choose Option A (flat), B (category), or C (subcategory)?
5. **Missing name**: What to do with `natural-weathering` pattern?
6. **Implementation timeline**: All at once or incremental rollout?

---

**Status**: Ready for implementation pending user approval  
**Estimated Effort**: 2-4 hours (Phase 1-3), 2-3 hours (Phase 4)  
**Risk Level**: LOW (no breaking changes to existing exports)
