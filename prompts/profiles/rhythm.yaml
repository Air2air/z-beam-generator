# Rhythm Profiles - Writing Rhythm Guidance by Component Type
# Created: November 20, 2025
#
# PURPOSE: Define writing rhythm, length variation, and structural patterns
# RESPONSIBILITY: Phrasing rhythm, word targets, structural variety
#
# USED BY: PromptBuilder to inject {sentence_guidance} into component templates  
# CALCULATED FROM: voice_params (rhythm_variation slider), component target length

profiles:
  # CAPTION: Two-paragraph visual comparison
  micro:
    name: "Two-Paragraph Narrative"
    structure: "Two distinct paragraphs with natural writing rhythm"
    
    rhythm_patterns:
      consistent: |
        PARAGRAPH 1 (Before): concise, direct sequence
        PARAGRAPH 2 (After): concise, direct sequence
        
        Keep phrasing length consistent within each paragraph.
        Use parallel structure between paragraphs for comparison.
      
      varied: |
        PARAGRAPH 1 (Before): mix short and medium phrasing
        PARAGRAPH 2 (After): mix short and medium phrasing
        
        Vary phrasing length naturally within each paragraph.
        Create rhythm through length variation.
    
    length_targets:
      total_words: 40-60
      total_words_extended: 40-70
      paragraph_balance: "Similar length paragraphs (balanced comparison)"
    
    structural_guidance:
      - "Start clauses differently (vary openings)"
      - "Use active voice for action descriptions"
      - "Ground observations in specific visual details"
      - "Avoid repetitive phrasing patterns between paragraphs"

  # SUBTITLE: Single impactful line
  subtitle:
    name: "Hook Line"
    structure: "One declarative statement with punch"
    
    rhythm_patterns:
      consistent: |
        Single concise statement
        
        Maintain moderate phrasing length for clarity and impact.
        Use declarative structure for authority.
      
      varied: |
        Single concise statement (flexible length)
        
        Adjust length based on content and rhythm.
        Short for punch, longer for nuance.
    
    length_targets:
      total_words: 10-20
      total_words_extended: 10-24
      structure: "Subject-verb-object with optional modifier"
    
    structural_guidance:
      - "Lead with the benefit or key point"
      - "Use concrete verbs (not 'enables', 'delivers')"
      - "End with impact (no trailing qualifiers)"
      - "Avoid AI-typical openings"

  # FAQ: Question + Answer format
  faq:
    name: "Q&A Technical Exchange"
    structure: "Question line + direct answer with practical detail"
    
    rhythm_patterns:
      consistent: |
        QUESTION: natural user question
        ANSWER: concise, structured response
        
        Keep answer phrasing length consistent for readability.
        Use clear, parallel structure across answer lines.
      
      varied: |
        QUESTION: natural user question
        ANSWER: concise response with mixed phrasing lengths
        
        Vary phrasing lengths in answer for natural rhythm.
        Lead with short answer, expand with details.
    
    length_targets:
      question_words: 8-15
      answer_words: 40-80
      total_words: 50-95
    
    structural_guidance:
      - "Question: Direct, user-focused phrasing"
      - "Answer: Lead with direct answer, then explain"
      - "Use numbered steps or bullets if listing"
      - "Vary openings within answer"

  # DESCRIPTION: Multi-paragraph comprehensive text
  description:
    name: "Comprehensive Overview"
    structure: "Multiple paragraphs with flowing narrative"
    
    rhythm_patterns:
      consistent: |
        Multiple paragraphs with steady pacing
        Phrasing length: consistent and readable
        
        Maintain steady rhythm across paragraphs.
        Use consistent structure for clarity.
      
      varied: |
        Multiple paragraphs with varied pacing
        Phrasing mix: short, medium, and longer forms
        
        Vary phrasing lengths within and across paragraphs.
        Create natural reading rhythm through variety.
        Lead with shorter opening lines per paragraph.
    
    length_targets:
      total_words: 150-250
      total_words_extended: 150-280
      paragraph_balance: "Roughly balanced paragraph lengths"
    
    structural_guidance:
      - "Topic line to open each paragraph"
      - "Vary openings within paragraphs"
      - "Mix simple, compound, and complex structures"
      - "Use transitions between paragraphs naturally"
      - "Avoid repetitive patterns across paragraphs"

# CALCULATION LOGIC (from DynamicConfig or SentenceCalculator):
#
# If rhythm_variation > 0.7:
#     Use "varied" rhythm pattern
# Else:
#     Use "consistent" rhythm pattern
#
# Example injection into template:
#   {sentence_guidance} â†’ profiles.micro.rhythm_patterns.varied

# INTEGRATION WITH VOICE PERSONAS:
# Voice personas (author_profiles.yaml) define WHO is writing
# Rhythm profiles define HOW they structure prose
# Combined: Author voice + Rhythm pattern = Complete writing style

# AUTHOR-SPECIFIC OVERRIDES:
# Individual author personas may specify component-specific rhythm preferences
# Example: Yi-Chun Lin prefers more consistent rhythm (formal academic)
#          Ikmanda Roswati prefers varied rhythm (conversational)

# INTEGRATION POINTS:
# 1. PromptBuilder._get_sentence_guidance() reads this file
# 2. Calculates rhythm level from voice_params or author preferences
# 3. Retrieves appropriate text from profiles[component_type].rhythm_patterns[level]
# 4. Injects as {sentence_guidance} placeholder in component template

# TESTING:
# Run: pytest tests/test_rhythm_profiles.py -v
