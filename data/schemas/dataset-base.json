{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://www.z-beam.com/schemas/dataset-base.json",
  "title": "Z-Beam Dataset Base Schema",
  "description": "Shared foundation for all Z-Beam dataset schemas (materials, contaminants, compounds, settings)",
  "version": "2.0.0",
  "type": "object",
  "required": [
    "@context",
    "@type",
    "identifier",
    "name",
    "description",
    "license",
    "creator",
    "publisher",
    "variableMeasured",
    "citation",
    "distribution"
  ],
  "properties": {
    "@context": {
      "type": "string",
      "const": "https://schema.org",
      "description": "Schema.org context for structured data"
    },
    "@type": {
      "type": "string",
      "const": "Dataset",
      "description": "Schema.org type designation"
    },
    "identifier": {
      "type": "string",
      "pattern": "^[a-z0-9-]+-[a-z]+-dataset$",
      "description": "Unique identifier matching dataset filename"
    },
    "name": {
      "type": "string",
      "minLength": 10,
      "description": "Human-readable dataset title"
    },
    "description": {
      "type": "string",
      "minLength": 100,
      "description": "Comprehensive dataset description"
    },
    "license": {
      "type": "object",
      "required": ["@type", "name", "url"],
      "properties": {
        "@type": {"type": "string", "const": "CreativeWork"},
        "name": {"type": "string"},
        "url": {"type": "string", "format": "uri"}
      }
    },
    "creator": {
      "type": "object",
      "required": ["@type", "name"],
      "properties": {
        "@type": {"type": "string", "const": "Organization"},
        "name": {"type": "string"},
        "url": {"type": "string", "format": "uri"}
      }
    },
    "publisher": {
      "type": "object",
      "required": ["@type", "name"],
      "properties": {
        "@type": {"type": "string", "const": "Organization"},
        "name": {"type": "string"},
        "url": {"type": "string", "format": "uri"}
      }
    },
    "datePublished": {
      "type": "string",
      "format": "date",
      "description": "ISO 8601 date of first publication"
    },
    "dateModified": {
      "type": "string",
      "format": "date",
      "description": "ISO 8601 date of last update"
    },
    "measurementTechnique": {
      "type": "string",
      "minLength": 10,
      "description": "Description of measurement and data collection methods"
    },
    "variableMeasured": {
      "type": "array",
      "minItems": 20,
      "description": "Minimum 20 measured variables (Schema.org requirement)",
      "items": {
        "type": "object",
        "required": ["@type", "name"],
        "properties": {
          "@type": {"type": "string", "const": "PropertyValue"},
          "name": {"type": "string"},
          "description": {"type": "string"},
          "value": {"type": ["string", "number"]},
          "unitText": {"type": "string"}
        }
      }
    },
    "citation": {
      "type": "array",
      "minItems": 3,
      "description": "Minimum 3 citations (Schema.org requirement)",
      "items": {
        "type": "object",
        "required": ["@type", "name"],
        "properties": {
          "@type": {"type": "string", "const": "CreativeWork"},
          "name": {"type": "string"},
          "url": {"type": "string", "format": "uri"},
          "author": {"type": "string"},
          "datePublished": {"type": "string", "format": "date"}
        }
      }
    },
    "distribution": {
      "type": "array",
      "minItems": 3,
      "description": "Three format distributions: JSON, CSV, TXT",
      "items": {
        "type": "object",
        "required": ["@type", "encodingFormat", "contentUrl"],
        "properties": {
          "@type": {"type": "string", "const": "DataDownload"},
          "encodingFormat": {
            "type": "string",
            "enum": ["application/json", "text/csv", "text/plain"]
          },
          "contentUrl": {"type": "string", "format": "uri"}
        }
      }
    },
    "keywords": {
      "type": "array",
      "description": "SEO and discovery keywords",
      "items": {"type": "string"}
    },
    "spatialCoverage": {
      "type": "string",
      "description": "Geographic applicability"
    },
    "temporalCoverage": {
      "type": "string",
      "description": "Time period coverage"
    }
  },
  "definitions": {
    "measuredValue": {
      "type": "object",
      "required": ["value", "unit"],
      "properties": {
        "value": {"type": "number"},
        "unit": {"type": "string"},
        "description": {"type": "string"}
      }
    },
    "parameterRange": {
      "type": "object",
      "required": ["min", "max", "unit"],
      "properties": {
        "min": {"type": "number"},
        "max": {"type": "number"},
        "value": {"type": "number", "description": "Typical/recommended value"},
        "unit": {"type": "string"},
        "description": {"type": "string"}
      }
    },
    "exposureRoute": {
      "type": "object",
      "properties": {
        "primaryConcern": {"type": "boolean"},
        "absorptionRate": {"type": "string"},
        "absorption": {"type": "string"},
        "effects": {"type": "string"}
      }
    },
    "toxicityValue": {
      "type": "object",
      "properties": {
        "value": {"type": "number"},
        "unit": {"type": "string"},
        "species": {"type": "string"}
      }
    },
    "exposureLimit": {
      "type": "object",
      "properties": {
        "value": {"type": "number"},
        "ceiling": {"type": "number"},
        "unit": {"type": "string"},
        "averaging_time": {"type": "string"},
        "notes": {"type": "string"}
      }
    }
  }
}
